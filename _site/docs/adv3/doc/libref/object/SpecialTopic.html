<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3-doc-libref-object-specialtopic-html</title>
    <meta property="og:title" content=
    "docs-adv3-doc-libref-object-specialtopic-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search/" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">SpecialTopic</span><span class="type">class</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3751">3751</a>],
<a href="../file/en_us.t.html">en_us.t</a>[<a href="../source/en_us.t.html#2743">2743</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>A “special” topic. This is a topic that responds to its own unique,
custom command input. In other words, rather than responding to a normal
command like ASK ABOUT or SHOW TO, we’ll respond to a command for which
we define our own syntax. Our special syntax doesn’t have to follow any
of the ordinary parsing conventions, because whenever our ConvNode is
active, we get a shot at parsing player input before the regular parser
gets to see it.</p>

<p>A special topic MUST be part of a ConvNode, because these are inherently
meaningful only in context. A special topic is active only when its
conversation node is active.</p>

<p>Special topics are automatically Suggested Topics as well as Topic
Entries. Because special topics use their own custom grammar, it’s
unreasonable to expect a player to guess at the custom grammar, so we
should always provide a topic inventory suggestion for every special
topic.</p>

<p><em>Modified in
<a href="../file/en_us.t.html">en_us.t</a>[<a href="../source/en_us.t.html#2743">2743</a>]:</em><br />
For SpecialTopic matches, treat some strings as “weak”: if the user’s
input consists of just one of these weak strings and nothing else, don’t
match the topic.</p>

<p><code class="language-plaintext highlighter-rouge">class </code><strong><code class="language-plaintext highlighter-rouge">SpecialTopic</code></strong><code class="language-plaintext highlighter-rouge"> :   </code><a href="../object/TopicEntry.html"><code class="language-plaintext highlighter-rouge">TopicEntry</code></a> <a href="../object/SuggestedTopicTree.html"><code class="language-plaintext highlighter-rouge">SuggestedTopicTree</code></a></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">SpecialTopic</code></strong><br />
<a href="../object/TopicEntry.html"><code class="language-plaintext highlighter-rouge">TopicEntry</code></a><br />
`                 object<code class="language-plaintext highlighter-rouge">  
[</code>SuggestedTopicTree<code class="language-plaintext highlighter-rouge">](../object/SuggestedTopicTree.html)  
[</code>SuggestedTopic<code class="language-plaintext highlighter-rouge">](../object/SuggestedTopic.html)  
</code>                         object`<br />
<span id="_SubClassTree_"></span></p>

<p><span class="hdln">Subclass Tree</span>  </p>

<p><em>(none)</em> <span id="_ObjectSummary_"></span></p>

<p><span class="hdln">Global Objects</span>  </p>

<p><em>(none)</em> <span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p><a href="#fullName"><code class="language-plaintext highlighter-rouge">fullName</code></a> <a href="#includeInList"><code class="language-plaintext highlighter-rouge">includeInList</code></a> <a href="#keywordList"><code class="language-plaintext highlighter-rouge">keywordList</code></a> <a href="#matchPat"><code class="language-plaintext highlighter-rouge">matchPat</code></a> <a href="#name"><code class="language-plaintext highlighter-rouge">name</code></a> <a href="#timesToSuggest"><code class="language-plaintext highlighter-rouge">timesToSuggest</code></a> <a href="#weakPat"><code class="language-plaintext highlighter-rouge">weakPat</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">TopicEntry</code> :<br />
<a href="../object/TopicEntry.html#altTalkCount"><code class="language-plaintext highlighter-rouge">altTalkCount</code></a> <a href="../object/TopicEntry.html#altTopicList"><code class="language-plaintext highlighter-rouge">altTopicList</code></a> <a href="../object/TopicEntry.html#impliesGreeting"><code class="language-plaintext highlighter-rouge">impliesGreeting</code></a> <a href="../object/TopicEntry.html#isActive"><code class="language-plaintext highlighter-rouge">isActive</code></a> <a href="../object/TopicEntry.html#isConversational"><code class="language-plaintext highlighter-rouge">isConversational</code></a> <a href="../object/TopicEntry.html#matchObj"><code class="language-plaintext highlighter-rouge">matchObj</code></a> <a href="../object/TopicEntry.html#matchScore"><code class="language-plaintext highlighter-rouge">matchScore</code></a> <a href="../object/TopicEntry.html#talkCount"><code class="language-plaintext highlighter-rouge">talkCount</code></a> <a href="../object/TopicEntry.html#topicGroupActive"><code class="language-plaintext highlighter-rouge">topicGroupActive</code></a> <a href="../object/TopicEntry.html#topicGroupScoreAdjustment"><code class="language-plaintext highlighter-rouge">topicGroupScoreAdjustment</code></a> <a href="../object/TopicEntry.html#topicResponse"><code class="language-plaintext highlighter-rouge">topicResponse</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">SuggestedTopic</code> :<br />
<a href="../object/SuggestedTopic.html#associatedTopic"><code class="language-plaintext highlighter-rouge">associatedTopic</code></a> <a href="../object/SuggestedTopic.html#curiositySatisfied"><code class="language-plaintext highlighter-rouge">curiositySatisfied</code></a> <a href="../object/SuggestedTopic.html#location"><code class="language-plaintext highlighter-rouge">location</code></a> <a href="../object/SuggestedTopic.html#suggestionGroup"><code class="language-plaintext highlighter-rouge">suggestionGroup</code></a> <a href="../object/SuggestedTopic.html#suggestTo"><code class="language-plaintext highlighter-rouge">suggestTo</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p><a href="#getConvNode"><code class="language-plaintext highlighter-rouge">getConvNode</code></a> <a href="#initializeSpecialTopic"><code class="language-plaintext highlighter-rouge">initializeSpecialTopic</code></a> <a href="#isMatchPossible"><code class="language-plaintext highlighter-rouge">isMatchPossible</code></a> <a href="#matchPreParse"><code class="language-plaintext highlighter-rouge">matchPreParse</code></a> <a href="#matchTopic"><code class="language-plaintext highlighter-rouge">matchTopic</code></a> <a href="#noteSuggestion"><code class="language-plaintext highlighter-rouge">noteSuggestion</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">TopicEntry</code> :<br />
<a href="../object/TopicEntry.html#addAltTopic"><code class="language-plaintext highlighter-rouge">addAltTopic</code></a> <a href="../object/TopicEntry.html#addSuggestedTopic"><code class="language-plaintext highlighter-rouge">addSuggestedTopic</code></a> <a href="../object/TopicEntry.html#addTopic"><code class="language-plaintext highlighter-rouge">addTopic</code></a> <a href="../object/TopicEntry.html#adjustScore"><code class="language-plaintext highlighter-rouge">adjustScore</code></a> <a href="../object/TopicEntry.html#anyAltIsActive"><code class="language-plaintext highlighter-rouge">anyAltIsActive</code></a> <a href="../object/TopicEntry.html#breakTopicTie"><code class="language-plaintext highlighter-rouge">breakTopicTie</code></a> <a href="../object/TopicEntry.html#checkIsActive"><code class="language-plaintext highlighter-rouge">checkIsActive</code></a> <a href="../object/TopicEntry.html#deferToEntry"><code class="language-plaintext highlighter-rouge">deferToEntry</code></a> <a href="../object/TopicEntry.html#getActor"><code class="language-plaintext highlighter-rouge">getActor</code></a> <a href="../object/TopicEntry.html#getTopicOwner"><code class="language-plaintext highlighter-rouge">getTopicOwner</code></a> <a href="../object/TopicEntry.html#handleTopic"><code class="language-plaintext highlighter-rouge">handleTopic</code></a> <a href="../object/TopicEntry.html#initializeTopicEntry"><code class="language-plaintext highlighter-rouge">initializeTopicEntry</code></a> <a href="../object/TopicEntry.html#noteAltInvocation"><code class="language-plaintext highlighter-rouge">noteAltInvocation</code></a> <a href="../object/TopicEntry.html#noteInvocation"><code class="language-plaintext highlighter-rouge">noteInvocation</code></a> <a href="../object/TopicEntry.html#setTopicPronouns"><code class="language-plaintext highlighter-rouge">setTopicPronouns</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">SuggestedTopicTree</code> :<br />
<a href="../object/SuggestedTopicTree.html#associatedTopicIsActive"><code class="language-plaintext highlighter-rouge">associatedTopicIsActive</code></a> <a href="../object/SuggestedTopicTree.html#associatedTopicTalkCount"><code class="language-plaintext highlighter-rouge">associatedTopicTalkCount</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">SuggestedTopic</code> :<br />
<a href="../object/SuggestedTopic.html#associatedTopicCanMatch"><code class="language-plaintext highlighter-rouge">associatedTopicCanMatch</code></a> <a href="../object/SuggestedTopic.html#findEnclosingSuggestedTopic"><code class="language-plaintext highlighter-rouge">findEnclosingSuggestedTopic</code></a> <a href="../object/SuggestedTopic.html#findOuterSuggestedTopic"><code class="language-plaintext highlighter-rouge">findOuterSuggestedTopic</code></a> <a href="../object/SuggestedTopic.html#fromEnclosingSuggestedTopic"><code class="language-plaintext highlighter-rouge">fromEnclosingSuggestedTopic</code></a> <a href="../object/SuggestedTopic.html#initializeSuggestedTopic"><code class="language-plaintext highlighter-rouge">initializeSuggestedTopic</code></a> <a href="../object/SuggestedTopic.html#isSuggestionActive"><code class="language-plaintext highlighter-rouge">isSuggestionActive</code></a></p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="fullName"></span></p>

<p><code class="language-plaintext highlighter-rouge">fullName</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3816">3816</a>]</p>

<p>our suggestion (topic inventory) full name is usually the same as the
base name; special topics usually aren’t grouped in topic suggestion
listings, since each topic usually has its own unique, custom syntax</p>

<p><span id="includeInList"></span></p>

<p><code class="language-plaintext highlighter-rouge">includeInList</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3822">3822</a>]</p>

<p>include in the specialTopics list of our parent topic database</p>

<p><span id="keywordList"></span></p>

<p><code class="language-plaintext highlighter-rouge">keywordList</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3766">3766</a>]</p>

<p>Our keyword list. Each special topic instance must define a list of
strings giving the keywords we match. The special topic will match user
input if the user input consists exclusively of words from this keyword
list. The user input doesn’t have to include all of the words defined
here, but all of the words in the user’s input have to appear here to
match.</p>

<p>Alternatively, an instance can specifically define its own custom
regular expression pattern instead of using the keyword list; the
regular expression allows the instance to include punctuation in the
syntax, or apply more restrictive criteria than simply matching the
keywords.</p>

<p><span id="matchPat"></span></p>

<p><code class="language-plaintext highlighter-rouge">matchPat</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3805">3805</a>]</p>

<p>our regular expression pattern - we’ll build this automatically from the
keyword list if this isn’t otherwise defined</p>

<p><span id="name"></span></p>

<p><code class="language-plaintext highlighter-rouge">name</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3808">3808</a>]</p>

<p>our suggestion (topic inventory) base name</p>

<p><span id="timesToSuggest"></span></p>

<p><code class="language-plaintext highlighter-rouge">timesToSuggest</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3830">3830</a>]</p>

<p>By default, don’t limit the number of times we’ll suggest this topic.
Since a special topic is valid only in a particular ConvNode context, we
normally want all of the topics in that context to be available, even if
they’ve been used before.</p>

<p><span id="weakPat"></span></p>

<p><code class="language-plaintext highlighter-rouge">weakPat</code></p>

<p><a href="../file/en_us.t.html">en_us.t</a>[<a href="../source/en_us.t.html#2762">2762</a>]</p>

<p>Our “weak” strings - ‘i’, ‘l’, ‘look’: these are weak because a user
typing one of these strings by itself is probably actually trying to
enter the command of the same name, rather than entering a special
topic. These come up in cases where the special topic is something like
“say I don’t know” or “tell him you’ll look into it”.</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="getConvNode"></span></p>

<p><code class="language-plaintext highlighter-rouge">getConvNode ( )</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3900">3900</a>]</p>

<p>find our enclosing ConvNode object</p>

<p><span id="initializeSpecialTopic"></span></p>

<p><code class="language-plaintext highlighter-rouge">initializeSpecialTopic ( )</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3780">3780</a>]</p>

<p>Initialize the special topic. This runs during pre-initialization, to
give us a chance to do pre-game set-up.</p>

<p>This routine adds the topic’s keywords to the global dictionary, under
the ‘special’ token type. Since a special topic’s keywords are accepted
when the special topic is active, it would be wrong for the parser to
claim that the words are unknown when the special topic isn’t active. By
adding the keywords to the dictionary, we let the parser know that
they’re valid words, so that it won’t claim that they’re unknown.</p>

<p><span id="isMatchPossible"></span></p>

<p><code class="language-plaintext highlighter-rouge">isMatchPossible (actor, scopeList)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3860">3860</a>]</p>

<p>a special topic is always matchable, since we match on literal text</p>

<p><span id="matchPreParse"></span></p>

<p><code class="language-plaintext highlighter-rouge">matchPreParse (str, procStr)</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3867">3867</a>],
<a href="../file/en_us.t.html">en_us.t</a>[<a href="../source/en_us.t.html#2744">2744</a>]</p>

<p>Match a string during pre-parsing. By default, we’ll match the string if
all of its words (as defined by the regular expression parser) match our
keywords.</p>

<p><span id="matchTopic"></span></p>

<p><code class="language-plaintext highlighter-rouge">matchTopic (fromActor, topic)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3833">3833</a>]</p>

<p>check for a match</p>

<p><span id="noteSuggestion"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteSuggestion ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#3819">3819</a>]</p>

<p>on being suggested, update the special topic history</p>

<p>TADS 3 Library Manual<br />
Generated on 5/16/2013 from TADS version 3.1.3</p>


</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>