<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title></title>
    <meta property="og:title" content=
    "">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header id="header"><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">CommandRanking</span><span class="type">class</span></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6099">6099</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>Production match ranking object. We create one of these objects for each
match tree that we wish to rank.</p>

<p>This class is generally not instantiated by client code - instead,
clients use the sortByRanking() class method to rank a list of
production matches.</p>

<p><code class="language-plaintext highlighter-rouge">class </code><strong><code class="language-plaintext highlighter-rouge">CommandRanking</code></strong><code class="language-plaintext highlighter-rouge"> :   </code><a href="../object/ResolveResults.html"><code class="language-plaintext highlighter-rouge">ResolveResults</code></a></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">CommandRanking</code></strong><br />
<a href="../object/ResolveResults.html"><code class="language-plaintext highlighter-rouge">ResolveResults</code></a><br />
`                 object`<br />
<span id="_SubClassTree_"></span></p>

<p><span class="hdln">Subclass Tree</span>  </p>

<p><strong><code class="language-plaintext highlighter-rouge">CommandRanking</code></strong><br />
<a href="../object/DisambigRanking.html"><code class="language-plaintext highlighter-rouge">DisambigRanking</code></a><br />
<a href="../object/MissingObjectRanking.html"><code class="language-plaintext highlighter-rouge">MissingObjectRanking</code></a><br />
<a href="../object/OopsResults.html"><code class="language-plaintext highlighter-rouge">OopsResults</code></a><br />
<span id="_ObjectSummary_"></span></p>

<p><span class="hdln">Global Objects</span>  </p>

<p><em>(none)</em> <span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p><a href="#actorSpecifiedCount"><code class="language-plaintext highlighter-rouge">actorSpecifiedCount</code></a> <a href="#allExcludedCount"><code class="language-plaintext highlighter-rouge">allExcludedCount</code></a> <a href="#allowActionRemapping"><code class="language-plaintext highlighter-rouge">allowActionRemapping</code></a> <a href="#ambigCount"><code class="language-plaintext highlighter-rouge">ambigCount</code></a> <a href="#commandCount"><code class="language-plaintext highlighter-rouge">commandCount</code></a> <a href="#emptyButCount"><code class="language-plaintext highlighter-rouge">emptyButCount</code></a> <a href="#endAdjCount"><code class="language-plaintext highlighter-rouge">endAdjCount</code></a> <a href="#indefiniteCount"><code class="language-plaintext highlighter-rouge">indefiniteCount</code></a> <a href="#inSingleObjSlot"><code class="language-plaintext highlighter-rouge">inSingleObjSlot</code></a> <a href="#insufficientCount"><code class="language-plaintext highlighter-rouge">insufficientCount</code></a> <a href="#inTopicSlot"><code class="language-plaintext highlighter-rouge">inTopicSlot</code></a> <a href="#listForSingle"><code class="language-plaintext highlighter-rouge">listForSingle</code></a> <a href="#literalLength"><code class="language-plaintext highlighter-rouge">literalLength</code></a> <a href="#match"><code class="language-plaintext highlighter-rouge">match</code></a> <a href="#miscWordListCount"><code class="language-plaintext highlighter-rouge">miscWordListCount</code></a> <a href="#missingCount"><code class="language-plaintext highlighter-rouge">missingCount</code></a> <a href="#nonMatchCount"><code class="language-plaintext highlighter-rouge">nonMatchCount</code></a> <a href="#nonMatchPossCount"><code class="language-plaintext highlighter-rouge">nonMatchPossCount</code></a> <a href="#nounSlotCount"><code class="language-plaintext highlighter-rouge">nounSlotCount</code></a> <a href="#pluralTruncCount"><code class="language-plaintext highlighter-rouge">pluralTruncCount</code></a> <a href="#pronounCount"><code class="language-plaintext highlighter-rouge">pronounCount</code></a> <a href="#rankingCriteria"><code class="language-plaintext highlighter-rouge">rankingCriteria</code></a> <a href="#tokCount"><code class="language-plaintext highlighter-rouge">tokCount</code></a> <a href="#truncCount"><code class="language-plaintext highlighter-rouge">truncCount</code></a> <a href="#unknownWordCount"><code class="language-plaintext highlighter-rouge">unknownWordCount</code></a> <a href="#unwantedPluralCount"><code class="language-plaintext highlighter-rouge">unwantedPluralCount</code></a> <a href="#vocabNonMatchCount"><code class="language-plaintext highlighter-rouge">vocabNonMatchCount</code></a> <a href="#weaknessLevel"><code class="language-plaintext highlighter-rouge">weaknessLevel</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p><a href="#allNotAllowed"><code class="language-plaintext highlighter-rouge">allNotAllowed</code></a> <a href="#ambiguousNounPhrase"><code class="language-plaintext highlighter-rouge">ambiguousNounPhrase</code></a> <a href="#askMissingObject"><code class="language-plaintext highlighter-rouge">askMissingObject</code></a> <a href="#beginSingleObjSlot"><code class="language-plaintext highlighter-rouge">beginSingleObjSlot</code></a> <a href="#beginTopicSlot"><code class="language-plaintext highlighter-rouge">beginTopicSlot</code></a> <a href="#calcRanking"><code class="language-plaintext highlighter-rouge">calcRanking</code></a> <a href="#compareRanking"><code class="language-plaintext highlighter-rouge">compareRanking</code></a> <a href="#construct"><code class="language-plaintext highlighter-rouge">construct</code></a> <a href="#emptyNounPhrase"><code class="language-plaintext highlighter-rouge">emptyNounPhrase</code></a> <a href="#endSingleObjSlot"><code class="language-plaintext highlighter-rouge">endSingleObjSlot</code></a> <a href="#endTopicSlot"><code class="language-plaintext highlighter-rouge">endTopicSlot</code></a> <a href="#getImpliedObject"><code class="language-plaintext highlighter-rouge">getImpliedObject</code></a> <a href="#incCommandCount"><code class="language-plaintext highlighter-rouge">incCommandCount</code></a> <a href="#insufficientQuantity"><code class="language-plaintext highlighter-rouge">insufficientQuantity</code></a> <a href="#noMatch"><code class="language-plaintext highlighter-rouge">noMatch</code></a> <a href="#noMatchForAll"><code class="language-plaintext highlighter-rouge">noMatchForAll</code></a> <a href="#noMatchForAllBut"><code class="language-plaintext highlighter-rouge">noMatchForAllBut</code></a> <a href="#noMatchForListBut"><code class="language-plaintext highlighter-rouge">noMatchForListBut</code></a> <a href="#noMatchForLocation"><code class="language-plaintext highlighter-rouge">noMatchForLocation</code></a> <a href="#noMatchForPossessive"><code class="language-plaintext highlighter-rouge">noMatchForPossessive</code></a> <a href="#noMatchForPronoun"><code class="language-plaintext highlighter-rouge">noMatchForPronoun</code></a> <a href="#noMatchPossessive"><code class="language-plaintext highlighter-rouge">noMatchPossessive</code></a> <a href="#noteActorSpecified"><code class="language-plaintext highlighter-rouge">noteActorSpecified</code></a> <a href="#noteAdjEnding"><code class="language-plaintext highlighter-rouge">noteAdjEnding</code></a> <a href="#noteBadPrep"><code class="language-plaintext highlighter-rouge">noteBadPrep</code></a> <a href="#noteEmptyBut"><code class="language-plaintext highlighter-rouge">noteEmptyBut</code></a> <a href="#noteIndefinite"><code class="language-plaintext highlighter-rouge">noteIndefinite</code></a> <a href="#noteLiteral"><code class="language-plaintext highlighter-rouge">noteLiteral</code></a> <a href="#noteMatches"><code class="language-plaintext highlighter-rouge">noteMatches</code></a> <a href="#noteMiscWordList"><code class="language-plaintext highlighter-rouge">noteMiscWordList</code></a> <a href="#noteNounSlots"><code class="language-plaintext highlighter-rouge">noteNounSlots</code></a> <a href="#notePlural"><code class="language-plaintext highlighter-rouge">notePlural</code></a> <a href="#notePronoun"><code class="language-plaintext highlighter-rouge">notePronoun</code></a> <a href="#noteWeakPhrasing"><code class="language-plaintext highlighter-rouge">noteWeakPhrasing</code></a> <a href="#nothingInLocation"><code class="language-plaintext highlighter-rouge">nothingInLocation</code></a> <a href="#noVocabMatch"><code class="language-plaintext highlighter-rouge">noVocabMatch</code></a> <a href="#reflexiveNotAllowed"><code class="language-plaintext highlighter-rouge">reflexiveNotAllowed</code></a> <a href="#singleObjectRequired"><code class="language-plaintext highlighter-rouge">singleObjectRequired</code></a> <a href="#sortByRanking"><code class="language-plaintext highlighter-rouge">sortByRanking</code></a> <a href="#uniqueObjectRequired"><code class="language-plaintext highlighter-rouge">uniqueObjectRequired</code></a> <a href="#unknownNounPhrase"><code class="language-plaintext highlighter-rouge">unknownNounPhrase</code></a> <a href="#wrongReflexive"><code class="language-plaintext highlighter-rouge">wrongReflexive</code></a> <a href="#zeroQuantity"><code class="language-plaintext highlighter-rouge">zeroQuantity</code></a></p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="actorSpecifiedCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">actorSpecifiedCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6384">6384</a>]</p>

<p>an actor is specified</p>

<p><span id="allExcludedCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">allExcludedCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6357">6357</a>]</p>

<p>number of “all” or “any” lists totally excluded by “but”</p>

<p><span id="allowActionRemapping"></span></p>

<p><code class="language-plaintext highlighter-rouge">allowActionRemapping</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6714">6714</a>]</p>

<p>don’t allow action remapping while ranking</p>

<p><span id="ambigCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">ambigCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6378">6378</a>]</p>

<p>number of ambiguous noun phrases</p>

<p><span id="commandCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">commandCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6381">6381</a>]</p>

<p>number of subcommands in the command</p>

<p><span id="emptyButCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">emptyButCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6354">6354</a>]</p>

<p>number of empty “but” lists</p>

<p><span id="endAdjCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">endAdjCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6366">6366</a>]</p>

<p>number of phrases ending in adjectives</p>

<p><span id="indefiniteCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">indefiniteCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6369">6369</a>]</p>

<p>number of phrases with indefinite noun phrase structure</p>

<p><span id="inSingleObjSlot"></span></p>

<p><code class="language-plaintext highlighter-rouge">inSingleObjSlot</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6663">6663</a>]</p>

<p><em>no description available</em></p>

<p><span id="insufficientCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">insufficientCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6348">6348</a>]</p>

<p>number of phrases requiring quantity higher than can be fulfilled</p>

<p><span id="inTopicSlot"></span></p>

<p><code class="language-plaintext highlighter-rouge">inTopicSlot</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6667">6667</a>]</p>

<p><em>no description available</em></p>

<p><span id="listForSingle"></span></p>

<p><code class="language-plaintext highlighter-rouge">listForSingle</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6351">6351</a>]</p>

<p>number of noun lists in single-noun slots</p>

<p><span id="literalLength"></span></p>

<p><code class="language-plaintext highlighter-rouge">literalLength</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6390">6390</a>]</p>

<p>total character length of literal text phrases</p>

<p><span id="match"></span></p>

<p><code class="language-plaintext highlighter-rouge">match</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6316">6316</a>]</p>

<p>the match tree I’m ranking</p>

<p><span id="miscWordListCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">miscWordListCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6372">6372</a>]</p>

<p>number of miscellaneous word lists as noun phrases</p>

<p><span id="missingCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">missingCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6360">6360</a>]</p>

<p>missing phrases (structurally omitted, as in “put book”)</p>

<p><span id="nonMatchCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">nonMatchCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6338">6338</a>]</p>

<p>number of noun phrases matching nothing in scope</p>

<p><span id="nonMatchPossCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">nonMatchPossCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6345">6345</a>]</p>

<p>Number of possessive-qualified noun phrases matching nothing in scope.
For example, “bob’s desk” when there’s no desk in scope (Bob’s or
otherwise).</p>

<p><span id="nounSlotCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">nounSlotCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6332">6332</a>]</p>

<p>The number of structural “noun phrase slots” in the verb. An
intransitive verb has no noun phrase slots; a transitive verb with a
direct object has one; a verb with a direct and indirect object has two
slots.</p>

<p><span id="pluralTruncCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">pluralTruncCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6363">6363</a>]</p>

<p>number of truncated plurals</p>

<p><span id="pronounCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">pronounCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6393">6393</a>]</p>

<p>number of pronoun phrases</p>

<p><span id="rankingCriteria"></span></p>

<p><code class="language-plaintext highlighter-rouge">rankingCriteria</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6292">6292</a>]</p>

<p>Our list of ranking criteria. This is a list of CommandRankingCriterion
objects. The list is given in order of importance: the first criterion
is the most important, so if it can discriminate the two match trees, we
use its result; if the first criterion can’t tell any difference, then
we move on to the second criterion; and so on through the list.</p>

<p>The most important thing is whether or not we have irresolvable noun
phrases (vocabNonMatchCount). If one of us has a noun phrase that refers
to nothing anywhere in the game, it’s not as good as a phrase that at
least matches something somewhere.</p>

<p>Next, if one of us has noun phrases that cannot be resolved to something
in scope (nonMatchCount), and the other can successfully resolve its
noun phrases, the one that can resolve the phrases is preferred.</p>

<p>Next, check for insufficient numbers of matches to counted phrases
(insufficientCount).</p>

<p>Next, check for noun lists in single-noun-only slots (listForSingle).</p>

<p>Next, if we have an empty “but” list in one but not the other, take the
one with the non-empty “but” list (emptyButCount). We prefer a non-empty
“but” list with an empty “all” even to a non-empty “all” list with an
empty “but”, because in the latter case we probably failed to exclude
anything because we misinterpreted the noun phrase to be excluded.</p>

<p>Next, if we have an empty “all” or “any” phrase due to “but” exclusion,
take the one that’s not empty (allExcludedCount).</p>

<p>Next, prefer a command that addresses an actor (actorSpecifiedCount) -
if the actor name looks like a command (we have someone named “Open
Bob,” maybe?), we’d prefer to interpret the name appearing as a command
prefix as an actor name.</p>

<p>Next, prefer no unstructured word lists as noun phrases (miscWordList
phrases) (miscWordListCount).</p>

<p>Next, prefer interpretations that treat less text as uninterpreted
literal text. By “less text,” we simply mean that one has a shorter
string treated as a literal than the other.</p>

<p>Prefer no indefinite noun phrases (indefiniteCount).</p>

<p>Prefer no truncated plurals (pluralTruncCount).</p>

<p>Prefer no noun phrases ending in adjectives (endAdjCount).</p>

<p>Prefer no truncated words of any kind (truncCount).</p>

<p>Prefer fewer pronouns. If we have an interpretation that matches a word
to explicit vocabulary, take it over matching a word as a pronoun: if a
word is given explicitly as vocabulary for an object, use it if
possible.</p>

<p>Prefer no missing phrases (missingCount).</p>

<p>Prefer the one with fewer subcommands - if one has fewer subcommands
than the other, it means that we were able to interpret ambiguous
conjunctions (such as “and”) as noun phrase conjunctions rather than as
command conjunctions; since we know by now that we both either have or
don’t have unresolved noun phrases, we’d rather take the interpretation
that gives us noun phrases than the one that involves more separate
commands.</p>

<p>Prefer the tree that matches more tokens.</p>

<p>Prefer the one with more structural noun phrases in the verb. For
example, if we have one interpretation that’s DETACH (X FROM Y) (where X
FROM Y is a ‘locational’ phrase that we treat as the direct object), and
one that’s DETACH X FROM Y (where X is the direct object and Y is in the
indirect object), prefer the latter, because it has both direct and
indirect object phrases, whereas the former has only a direct object
phrase. English speakers almost always try to put prepositions into a
structural role in the verb phrase like this when they could be either
in the verb phrase or part of a noun phrase.</p>

<p>If all else fails, prefer the one that is initially less ambiguous.
Ambiguity is a weak test at this point, since we might end up narrowing
things down through automatic “logicalness” tests later, but it’s
slightly better to have the match be less ambiguous now, all other
things being equal.</p>

<p><span id="tokCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">tokCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6319">6319</a>]</p>

<p>the number of tokens my match tree consumes</p>

<p><span id="truncCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">truncCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6375">6375</a>]</p>

<p>number of truncated words overall</p>

<p><span id="unknownWordCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">unknownWordCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6387">6387</a>]</p>

<p>unknown words</p>

<p><span id="unwantedPluralCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">unwantedPluralCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6399">6399</a>]</p>

<p>number of plural phrases encountered in single-object slots</p>

<p><span id="vocabNonMatchCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">vocabNonMatchCount</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6335">6335</a>]</p>

<p>number of noun phrases matching nothing anywhere in the game</p>

<p><span id="weaknessLevel"></span></p>

<p><code class="language-plaintext highlighter-rouge">weaknessLevel</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6396">6396</a>]</p>

<p>weakness level (for noteWeakPhrasing)</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="allNotAllowed"></span></p>

<p><code class="language-plaintext highlighter-rouge">allNotAllowed ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6432">6432</a>]</p>

<p>note that we have an unmatched possessive-qualified noun phrase</p>

<p><span id="ambiguousNounPhrase"></span></p>

<p><code class="language-plaintext highlighter-rouge">ambiguousNounPhrase (keeper, asker, txt, matchList, fullMatchList, scopeList, requiredNum, resolver)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6503">6503</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="askMissingObject"></span></p>

<p><code class="language-plaintext highlighter-rouge">askMissingObject (asker, resolver, responseProd)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6566">6566</a>]</p>

<p>count the missing object phrase</p>

<p><span id="beginSingleObjSlot"></span></p>

<p><code class="language-plaintext highlighter-rouge">beginSingleObjSlot ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6661">6661</a>]</p>

<p>if this object was matched with a truncated plural, note it</p>

<p><span id="beginTopicSlot"></span></p>

<p><code class="language-plaintext highlighter-rouge">beginTopicSlot ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6665">6665</a>]</p>

<p><em>no description available</em></p>

<p><span id="calcRanking"></span></p>

<p><code class="language-plaintext highlighter-rouge">calcRanking (resolveArguments)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6146">6146</a>]</p>

<p>calculate my ranking</p>

<p><span id="compareRanking"></span></p>

<p><code class="language-plaintext highlighter-rouge">compareRanking (other)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6173">6173</a>]</p>

<p>Compare two production list entries for ranking purposes. Returns a
negative number if this one ranks worse than the other, 0 if they have
the same ranking, or a positive number if this one ranks better than the
other one.</p>

<p>This routine is designed to run entirely off of our rankingCriteria
property. In most cases, subclasses should be able to customize the
ranking system simply by overriding the rankingCriteria property to
provide a customized list of criteria objects.</p>

<p><span id="construct"></span></p>

<p><code class="language-plaintext highlighter-rouge">construct (match)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6136">6136</a>]</p>

<p>create a new entry</p>

<p><span id="emptyNounPhrase"></span></p>

<p><code class="language-plaintext highlighter-rouge">emptyNounPhrase (resolver)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6582">6582</a>]</p>

<p>add the length of this literal to the total literal length</p>

<p><span id="endSingleObjSlot"></span></p>

<p><code class="language-plaintext highlighter-rouge">endSingleObjSlot ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6662">6662</a>]</p>

<p><em>no description available</em></p>

<p><span id="endTopicSlot"></span></p>

<p><code class="language-plaintext highlighter-rouge">endTopicSlot ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6666">6666</a>]</p>

<p><em>no description available</em></p>

<p><span id="getImpliedObject"></span></p>

<p><code class="language-plaintext highlighter-rouge">getImpliedObject (np, resolver)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6559">6559</a>]</p>

<p>return the results</p>

<p><span id="incCommandCount"></span></p>

<p><code class="language-plaintext highlighter-rouge">incCommandCount ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6682">6682</a>]</p>

<p>If we’re resolving a single-object slot, we want to avoid plurals, since
they could resolve to multiple objects as though we’d typed a list of
objects here. This isn’t a problem for topics, though, since a topic
slot isn’t iterated for execution.</p>

<p><span id="insufficientQuantity"></span></p>

<p><code class="language-plaintext highlighter-rouge">insufficientQuantity (txt, matchList, requiredNum)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6595">6595</a>]</p>

<p>treat this as a non-matching noun phrase</p>

<p><span id="noMatch"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatch (action, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6419">6419</a>]</p>

<p>note the unknown phrase</p>

<p><span id="noMatchForAll"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatchForAll ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6438">6438</a>]</p>

<p>treat this as a non-matching noun phrase</p>

<p><span id="noMatchForAllBut"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatchForAllBut ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6450">6450</a>]</p>

<p>note it</p>

<p><span id="noMatchForListBut"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatchForListBut ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6456">6456</a>]</p>

<p>count the total exclusion</p>

<p><span id="noMatchForLocation"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatchForLocation (loc, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6486">6486</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="noMatchForPossessive"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatchForPossessive (owner, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6480">6480</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="noMatchForPronoun"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatchForPronoun (typ, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6462">6462</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="noMatchPossessive"></span></p>

<p><code class="language-plaintext highlighter-rouge">noMatchPossessive (action, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6425">6425</a>]</p>

<p>note that we have a noun phrase that matches nothing</p>

<p><span id="noteActorSpecified"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteActorSpecified ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6688">6688</a>]</p>

<p>increase our subcommand counter</p>

<p><span id="noteAdjEnding"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteAdjEnding ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6615">6615</a>]</p>

<p>ignore this for now - we might get a unique object via disambiguation
during the execution phase</p>

<p><span id="noteBadPrep"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteBadPrep ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6492">6492</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="noteEmptyBut"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteEmptyBut ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6444">6444</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="noteIndefinite"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteIndefinite ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6621">6621</a>]</p>

<p>count it</p>

<p><span id="noteLiteral"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteLiteral (txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6576">6576</a>]</p>

<p>no need to do anything here - we’ll count the missing object in
getImpliedObject, and we don’t want to ask for anything interactively at
this point</p>

<p><span id="noteMatches"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteMatches (matchList)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6642">6642</a>]</p>

<p>note the presence of a pronoun</p>

<p><span id="noteMiscWordList"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteMiscWordList (txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6627">6627</a>]</p>

<p>count it</p>

<p><span id="noteNounSlots"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteNounSlots (cnt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6694">6694</a>]</p>

<p>note it</p>

<p><span id="notePlural"></span></p>

<p><code class="language-plaintext highlighter-rouge">notePlural ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6669">6669</a>]</p>

<p><em>no description available</em></p>

<p><span id="notePronoun"></span></p>

<p><code class="language-plaintext highlighter-rouge">notePronoun ( )</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6636">6636</a>]</p>

<p>count this as a literal as well</p>

<p><span id="noteWeakPhrasing"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteWeakPhrasing (level)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6707">6707</a>]</p>

<p>If this is the first noun slot count we’ve received, remember it. If we
already have a count, ignore the new one - we only want to consider the
first verb phrase if there are multiple verb phrases, since we’ll
reconsider the next verb phrase when we’re ready to execute it.</p>

<p><span id="nothingInLocation"></span></p>

<p><code class="language-plaintext highlighter-rouge">nothingInLocation (txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6497">6497</a>]</p>

<p>don’t do anything at this point</p>

<p><span id="noVocabMatch"></span></p>

<p><code class="language-plaintext highlighter-rouge">noVocabMatch (action, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6413">6413</a>]</p>

<p>ResolveResults implementation. We use this results receiver when we’re
comparing the semantic strengths of multiple structural matches, so we
merely note each error condition without showing any message to the user
or asking the user for any input. Once we’ve ranked all of the matches,
we’ll choose the one with the best attributes and then resolve it for
real, at which point if we chose one with any errors, we’ll finally get
around to showing the errors to the user.</p>

<p><span id="reflexiveNotAllowed"></span></p>

<p><code class="language-plaintext highlighter-rouge">reflexiveNotAllowed (typ, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6468">6468</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="singleObjectRequired"></span></p>

<p><code class="language-plaintext highlighter-rouge">singleObjectRequired (txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6601">6601</a>]</p>

<p>treat this as a non-matching noun phrase</p>

<p><span id="sortByRanking"></span></p>

<p><code class="language-plaintext highlighter-rouge">sortByRanking (lst, [resolveArguments])</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6108">6108</a>]</p>

<p>Sort a list of productions, as returned from GrammarProd.parseTokens(),
in descending order of command strength. We return a list of
CommandRanking objects whose first element is the best command
interpretation.</p>

<p>Note that this can be used as a class-level method.</p>

<p><span id="uniqueObjectRequired"></span></p>

<p><code class="language-plaintext highlighter-rouge">uniqueObjectRequired (txt, matchList)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6607">6607</a>]</p>

<p>treat this as a non-matching noun phrase</p>

<p><span id="unknownNounPhrase"></span></p>

<p><code class="language-plaintext highlighter-rouge">unknownNounPhrase (match, resolver)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6529">6529</a>]</p>

<p>return the abbreviated list</p>

<p><span id="wrongReflexive"></span></p>

<p><code class="language-plaintext highlighter-rouge">wrongReflexive (typ, txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6474">6474</a>]</p>

<p>treat this as any other noun phrase that matches nothing</p>

<p><span id="zeroQuantity"></span></p>

<p><code class="language-plaintext highlighter-rouge">zeroQuantity (txt)</code></p>

<p><a href="../file/parser.t.html">parser.t</a>[<a href="../source/parser.t.html#6589">6589</a>]</p>

<p>treat this as a non-matching noun phrase
TADS 3 Library Manual<br />
Generated on 5/16/2013 from TADS version 3.1.3</p>


</main>
<footer id="footer">
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>

<script>
    if(window.location !== window.top.location) {
        let header = document.getElementById('header');
        let footer = document.getElementById('footer');
        header.remove();
        footer.remove();
    }
</script>