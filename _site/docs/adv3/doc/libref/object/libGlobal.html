<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title></title>
    <meta property="og:title" content=
    "">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header id="header"><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">libGlobal</span><span class="type">object</span></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1587">1587</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>Library global variables</p>

<p><strong><code class="language-plaintext highlighter-rouge">libGlobal</code></strong><code class="language-plaintext highlighter-rouge"> :   object</code></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">libGlobal</code></strong><br />
`         object`<br />
<span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p><a href="#actorVisualAmbientCache"><code class="language-plaintext highlighter-rouge">actorVisualAmbientCache</code></a> <a href="#allSenses"><code class="language-plaintext highlighter-rouge">allSenses</code></a> <a href="#canTouchCache"><code class="language-plaintext highlighter-rouge">canTouchCache</code></a> <a href="#commandLineArgs"><code class="language-plaintext highlighter-rouge">commandLineArgs</code></a> <a href="#connectionCache"><code class="language-plaintext highlighter-rouge">connectionCache</code></a> <a href="#curAction"><code class="language-plaintext highlighter-rouge">curAction</code></a> <a href="#curActor"><code class="language-plaintext highlighter-rouge">curActor</code></a> <a href="#curIssuingActor"><code class="language-plaintext highlighter-rouge">curIssuingActor</code></a> <a href="#curVerifyResults"><code class="language-plaintext highlighter-rouge">curVerifyResults</code></a> <a href="#exitListerObj"><code class="language-plaintext highlighter-rouge">exitListerObj</code></a> <a href="#footnoteClass"><code class="language-plaintext highlighter-rouge">footnoteClass</code></a> <a href="#hintManagerObj"><code class="language-plaintext highlighter-rouge">hintManagerObj</code></a> <a href="#IFID"><code class="language-plaintext highlighter-rouge">IFID</code></a> <a href="#lastActorForUndo"><code class="language-plaintext highlighter-rouge">lastActorForUndo</code></a> <a href="#lastCommandForUndo"><code class="language-plaintext highlighter-rouge">lastCommandForUndo</code></a> <a href="#libMessageObj"><code class="language-plaintext highlighter-rouge">libMessageObj</code></a> <a href="#parserDebugMode"><code class="language-plaintext highlighter-rouge">parserDebugMode</code></a> <a href="#playerChar"><code class="language-plaintext highlighter-rouge">playerChar</code></a> <a href="#pointOfView"><code class="language-plaintext highlighter-rouge">pointOfView</code></a> <a href="#pointOfViewActor"><code class="language-plaintext highlighter-rouge">pointOfViewActor</code></a> <a href="#povStack"><code class="language-plaintext highlighter-rouge">povStack</code></a> <a href="#scoreObj"><code class="language-plaintext highlighter-rouge">scoreObj</code></a> <a href="#senseCache"><code class="language-plaintext highlighter-rouge">senseCache</code></a> <a href="#totalTurns"><code class="language-plaintext highlighter-rouge">totalTurns</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p><a href="#disableSenseCache"><code class="language-plaintext highlighter-rouge">disableSenseCache</code></a> <a href="#enableSenseCache"><code class="language-plaintext highlighter-rouge">enableSenseCache</code></a> <a href="#getCommandSwitch"><code class="language-plaintext highlighter-rouge">getCommandSwitch</code></a> <a href="#invalSenseCache"><code class="language-plaintext highlighter-rouge">invalSenseCache</code></a></p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="actorVisualAmbientCache"></span></p>

<p><code class="language-plaintext highlighter-rouge">actorVisualAmbientCache</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1643">1643</a>]</p>

<p>Actor visual ambient cache - this keeps track of the ambient light level
at the given actor.</p>

<p><span id="allSenses"></span></p>

<p><code class="language-plaintext highlighter-rouge">allSenses</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1697">1697</a>]</p>

<p>List of all of the senses. The library pre-initializer will load this
list with a reference to each instance of class Sense.</p>

<p><span id="canTouchCache"></span></p>

<p><code class="language-plaintext highlighter-rouge">canTouchCache</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1631">1631</a>]</p>

<p>Can-Touch cache - we keep CanTouchInfo entries here, keyed by
[from,to]. This cache is the touch-path equivalent of the sense cache,
and is enabled and disabled</p>

<p><span id="commandLineArgs"></span></p>

<p><code class="language-plaintext highlighter-rouge">commandLineArgs</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1812">1812</a>]</p>

<p>Command line arguments. The library sets this to a list of strings
containing the arguments passed to the program on the command line. This
list contains the command line arguments parsed according to the local
conventions for the operating system and C++ library. The standard
parsing procedure used by most systems is to break the line into tokens
delimited by space characters. Many systems also allow space characters
to be embedded in tokens by quoting the tokens. The first argument is
always the name of the .t3 file currently executing.</p>

<p><span id="connectionCache"></span></p>

<p><code class="language-plaintext highlighter-rouge">connectionCache</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1637">1637</a>]</p>

<p>Connection list cache - this is a cache of all of the objects connected
by containment to a given object.</p>

<p><span id="curAction"></span></p>

<p><code class="language-plaintext highlighter-rouge">curAction</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1784">1784</a>]</p>

<p><em>no description available</em></p>

<p><span id="curActor"></span></p>

<p><code class="language-plaintext highlighter-rouge">curActor</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1782">1782</a>]</p>

<p>Current command information. We keep track of the current command’s
actor and action here, as well as the verification result list and the
command report list.</p>

<p><span id="curIssuingActor"></span></p>

<p><code class="language-plaintext highlighter-rouge">curIssuingActor</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1783">1783</a>]</p>

<p><em>no description available</em></p>

<p><span id="curVerifyResults"></span></p>

<p><code class="language-plaintext highlighter-rouge">curVerifyResults</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1785">1785</a>]</p>

<p><em>no description available</em></p>

<p><span id="exitListerObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">exitListerObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1788">1788</a>]</p>

<p>the exitLister object, if included in the build</p>

<p><span id="footnoteClass"></span></p>

<p><code class="language-plaintext highlighter-rouge">footnoteClass</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1741">1741</a>]</p>

<p>The global Footnote class object. We use a global for this, rather than
referencing Footnote directly, to allow the footnote module to be left
out entirely if the game doesn’t make use of footnotes. The footnote
class should set this during pre-initialization.</p>

<p><span id="hintManagerObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">hintManagerObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1791">1791</a>]</p>

<p>the hint manager, if included in the build</p>

<p><span id="IFID"></span></p>

<p><code class="language-plaintext highlighter-rouge">IFID</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1799">1799</a>]</p>

<p>The game’s IFID, as defined in the game’s main module ID object. If the
game has multiple IFIDs in the module list, this will store only the
first IFID in the list. NOTE: the library initializes this automatically
during preinit; don’t set this manually.</p>

<p><span id="lastActorForUndo"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastActorForUndo</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1775">1775</a>]</p>

<p>Most recent target actor phrase; this goes with lastCommandForUndo. This
is nil if the last command did not specify an actor (i.e., was
implicitly for the player character), otherwise is the string the player
typed specifying a target actor.</p>

<p><span id="lastCommandForUndo"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastCommandForUndo</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1766">1766</a>]</p>

<p>Most recent command, for ‘undo’ purposes. This is the last command the
player character performed, or the last initial command a player
directed to an NPC.</p>

<p>Note that if the player directed a series of commands to an NPC with a
single command line, only the first command on such a command line is
retained here, because it is only the first such command that counts as
a player’s turn in terms of the game clock. Subsequent commands are
executed by the NPC’s on the NPC’s own time, and do not count against
the PC’s game clock time. The first command counts against the PC’s
clock because of the time it takes the PC to give the command to the
NPC.</p>

<p><span id="libMessageObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">libMessageObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1608">1608</a>]</p>

<p>The current library messages object. This is the source object for
messages that don’t logically relate to the actor carrying out the
comamand. It’s mostly used for meta-command replies, and for text
fragments that are used to construct descriptions.</p>

<p>This message object isn’t generally used for parser messages or action
replies - most of those come from the objects given by the current
actor’s getParserMessageObj() or getActionMessageObj(), respectively.</p>

<p>By default, this is set to libMessages. The library never changes this
itself, but a game can change this if it wants to switch to a new set of
messages during a game. (If you don’t need to change messages during a
game, but simply want to customize some of the default messages, you
don’t need to set this variable - you can simply use ‘modify
libMessages’ instead. This variable is designed for cases where you want
to *dynamically* change the standard messages during the game.)</p>

<p><span id="parserDebugMode"></span></p>

<p><code class="language-plaintext highlighter-rouge">parserDebugMode</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1750">1750</a>]</p>

<p>flag: the parser is in ‘debug’ mode, in which it displays the parse tree
for each command entered</p>

<p><span id="playerChar"></span></p>

<p><code class="language-plaintext highlighter-rouge">playerChar</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1702">1702</a>]</p>

<p>The current player character</p>

<p><span id="pointOfView"></span></p>

<p><code class="language-plaintext highlighter-rouge">pointOfView</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1717">1717</a>]</p>

<p>The current perspective object. This is *usually* the actor performing
the current command, but can be a different object when the actor is
viewing the location being described via an intermediary, such as
through a closed-circuit TV camera.</p>

<p><span id="pointOfViewActor"></span></p>

<p><code class="language-plaintext highlighter-rouge">pointOfViewActor</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1709">1709</a>]</p>

<p>The current perspective actor. This is the actor who’s performing the
action (LOOK AROUND, EXAMINE, SMELL, etc) that’s generating the current
description.</p>

<p><span id="povStack"></span></p>

<p><code class="language-plaintext highlighter-rouge">povStack</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1724">1724</a>]</p>

<p>The stack of point of view objects. The last element of the vector is
the most recent point of view after the current point of view.</p>

<p><span id="scoreObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">scoreObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1732">1732</a>]</p>

<p>The global score object. We use a global for this, rather than
referencing libScore directly, to allow the score module to be left out
entirely if the game doesn’t make use of scoring. The score module
should set this during pre-initialization.</p>

<p><span id="senseCache"></span></p>

<p><code class="language-plaintext highlighter-rouge">senseCache</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1624">1624</a>]</p>

<p>Sense cache - we keep SenseInfo lists here, keyed by [pov,sense]; we
normally discard the cached information at the start of each turn, and
disable caching entirely at the start of the “action” phase of each
turn. We leave caching disabled during each turn’s action phase because
this is the phase where simulation state changes are typically made, and
hence it would be difficult to keep the cache coherent during this
phase.</p>

<p>When this is nil, it indicates that caching is disabled. We only allow
caching during certain phases of execution, when game state is not
conventionally altered, so that we don’t have to do a lot of work to
keep the cache up to date.</p>

<p><span id="totalTurns"></span></p>

<p><code class="language-plaintext highlighter-rouge">totalTurns</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1744">1744</a>]</p>

<p>the total number of turns so far</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="disableSenseCache"></span></p>

<p><code class="language-plaintext highlighter-rouge">disableSenseCache ( )</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1662">1662</a>]</p>

<p>disable the cache</p>

<p><span id="enableSenseCache"></span></p>

<p><code class="language-plaintext highlighter-rouge">enableSenseCache ( )</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1646">1646</a>]</p>

<p>enable the cache, clearing any old cached information</p>

<p><span id="getCommandSwitch"></span></p>

<p><code class="language-plaintext highlighter-rouge">getCommandSwitch (s)</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1832">1832</a>]</p>

<p>Retrieve a “switch” from the command line. Switches are options
specifies with the conventional Unix “-xxx” notation. This searches for
a command option that equals the given string or starts with the given
substring. If we find it, we return the part of the option after the
given substring - this is conventionally the value of the switch. For
example, the command line might look like this:</p>

<p>t3run mygame.t3 -name=MyGame -user=Bob</p>

<p>Searching for ‘-name=’ would return ‘MyGame’, and searching for ‘-user=’
would return’ Bob’.</p>

<p>If the switch is found but has no value attached, the return value is an
empty string. If the switch isn’t found at all, the return value is nil.</p>

<p><span id="invalSenseCache"></span></p>

<p><code class="language-plaintext highlighter-rouge">invalSenseCache ( )</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#1680">1680</a>]</p>

<p>Invalidate the sense cache. This can be called if something happens
during noun resolution or verification that causes any cached sense
information to become out of date. For example, if you have to create a
new game-world object during noun-phrase resolution, this should be
called to ensure that the new object’s visibility is properly calculated
and incorporated into the cached information.
TADS 3 Library Manual<br />
Generated on 5/16/2013 from TADS version 3.1.3</p>


</main>
<footer id="footer">
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>

<script>
    if(window.location !== window.top.location) {
        let header = document.getElementById('header');
        let footer = document.getElementById('footer');
        header.remove();
        footer.remove();
    }
</script>