<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3-doc-libref-object-conversationreadystate-html</title>
    <meta property="og:title" content=
    "docs-adv3-doc-libref-object-conversationreadystate-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">ConversationReadyState</span><span class="type">class</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4742">4742</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>A “ready for conversation” state. This can be used as the base class for
actor states when the actor is receptive to conversation, and we want to
have the sense of a conversational context. The key feature that this
class provides is the ability to provide messages when engaging and
disengaging the conversation.</p>

<p>Note that this state is NOT required for conversation, since the basic
ActorState object accepts conversational commands like ASK, TELL, GIVE,
and TAKE. The special feature of the “conversation ready” state is that
we explicitly move the actor to a separate state when conversation
begins. This is especially appropriate for states in which the NPC is
actively carrying on some other activity; the conversation should
interrupt those states, so that the actor stops the other activity and
gives us its full attention.</p>

<p>This type of state can be associated with its in-conversation state
object in one of two ways. First, the inConvState property can be
explicitly set to point to the in-conversation state object. Second,
this object can be nested inside its in-conversation state object via
the ‘location’ property (so you can use the ‘+’ syntax to put this
object inside its in-conversation state object). The ‘ready’ object goes
inside the ‘conversing’ object because a single ‘conversing’ object can
frequently be shared among several ‘ready’ states.</p>

<p><code class="language-plaintext highlighter-rouge">class </code><strong><code class="language-plaintext highlighter-rouge">ConversationReadyState</code></strong><code class="language-plaintext highlighter-rouge"> :   </code><a href="../object/ActorState.html"><code class="language-plaintext highlighter-rouge">ActorState</code></a></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">ConversationReadyState</code></strong><br />
<a href="../object/ActorState.html"><code class="language-plaintext highlighter-rouge">ActorState</code></a><br />
<a href="../object/TravelMessageHandler.html"><code class="language-plaintext highlighter-rouge">TravelMessageHandler</code></a><br />
`                         object<code class="language-plaintext highlighter-rouge">  
[</code>ActorTopicDatabase<code class="language-plaintext highlighter-rouge">](../object/ActorTopicDatabase.html)  
[</code>TopicDatabase<code class="language-plaintext highlighter-rouge">](../object/TopicDatabase.html)  
</code>                                 object`<br />
<span id="_SubClassTree_"></span></p>

<p><span class="hdln">Subclass Tree</span>  </p>

<p><em>(none)</em> <span id="_ObjectSummary_"></span></p>

<p><span class="hdln">Global Objects</span>  </p>

<p><em>(none)</em> <span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p><a href="#getImpliedConvState"><code class="language-plaintext highlighter-rouge">getImpliedConvState</code></a> <a href="#inConvState"><code class="language-plaintext highlighter-rouge">inConvState</code></a> <a href="#stateSuggestedTopics"><code class="language-plaintext highlighter-rouge">stateSuggestedTopics</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ActorState</code> :<br />
<a href="../object/ActorState.html#autoSuggest"><code class="language-plaintext highlighter-rouge">autoSuggest</code></a> <a href="../object/ActorState.html#isInitState"><code class="language-plaintext highlighter-rouge">isInitState</code></a> <a href="../object/ActorState.html#location"><code class="language-plaintext highlighter-rouge">location</code></a> <a href="../object/ActorState.html#stateDesc"><code class="language-plaintext highlighter-rouge">stateDesc</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ActorTopicDatabase</code> :<br />
<a href="../object/ActorTopicDatabase.html#askForTopics"><code class="language-plaintext highlighter-rouge">askForTopics</code></a> <a href="../object/ActorTopicDatabase.html#askTopics"><code class="language-plaintext highlighter-rouge">askTopics</code></a> <a href="../object/ActorTopicDatabase.html#commandTopics"><code class="language-plaintext highlighter-rouge">commandTopics</code></a> <a href="../object/ActorTopicDatabase.html#giveTopics"><code class="language-plaintext highlighter-rouge">giveTopics</code></a> <a href="../object/ActorTopicDatabase.html#initiateTopics"><code class="language-plaintext highlighter-rouge">initiateTopics</code></a> <a href="../object/ActorTopicDatabase.html#miscTopics"><code class="language-plaintext highlighter-rouge">miscTopics</code></a> <a href="../object/ActorTopicDatabase.html#showTopics"><code class="language-plaintext highlighter-rouge">showTopics</code></a> <a href="../object/ActorTopicDatabase.html#specialTopics"><code class="language-plaintext highlighter-rouge">specialTopics</code></a> <a href="../object/ActorTopicDatabase.html#tellTopics"><code class="language-plaintext highlighter-rouge">tellTopics</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">TopicDatabase</code> :<br />
<a href="../object/TopicDatabase.html#limitSuggestions"><code class="language-plaintext highlighter-rouge">limitSuggestions</code></a> <a href="../object/TopicDatabase.html#suggestedTopics"><code class="language-plaintext highlighter-rouge">suggestedTopics</code></a> <a href="../object/TopicDatabase.html#topicGroupActive"><code class="language-plaintext highlighter-rouge">topicGroupActive</code></a> <a href="../object/TopicDatabase.html#topicGroupScoreAdjustment"><code class="language-plaintext highlighter-rouge">topicGroupScoreAdjustment</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p><a href="#enterConversation"><code class="language-plaintext highlighter-rouge">enterConversation</code></a> <a href="#enterFromConversation"><code class="language-plaintext highlighter-rouge">enterFromConversation</code></a> <a href="#handleConversation"><code class="language-plaintext highlighter-rouge">handleConversation</code></a> <a href="#initializeActorState"><code class="language-plaintext highlighter-rouge">initializeActorState</code></a> <a href="#initiateTopic"><code class="language-plaintext highlighter-rouge">initiateTopic</code></a> <a href="#notifyTopicResponse"><code class="language-plaintext highlighter-rouge">notifyTopicResponse</code></a> <a href="#showGreetingMsg"><code class="language-plaintext highlighter-rouge">showGreetingMsg</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ActorState</code> :<br />
<a href="../object/ActorState.html#activateState"><code class="language-plaintext highlighter-rouge">activateState</code></a> <a href="../object/ActorState.html#afterAction"><code class="language-plaintext highlighter-rouge">afterAction</code></a> <a href="../object/ActorState.html#afterTravel"><code class="language-plaintext highlighter-rouge">afterTravel</code></a> <a href="../object/ActorState.html#arrivingTurn"><code class="language-plaintext highlighter-rouge">arrivingTurn</code></a> <a href="../object/ActorState.html#arrivingWithDesc"><code class="language-plaintext highlighter-rouge">arrivingWithDesc</code></a> <a href="../object/ActorState.html#beforeAction"><code class="language-plaintext highlighter-rouge">beforeAction</code></a> <a href="../object/ActorState.html#beforeTravel"><code class="language-plaintext highlighter-rouge">beforeTravel</code></a> <a href="../object/ActorState.html#construct"><code class="language-plaintext highlighter-rouge">construct</code></a> <a href="../object/ActorState.html#deactivateState"><code class="language-plaintext highlighter-rouge">deactivateState</code></a> <a href="../object/ActorState.html#distantSpecialDesc"><code class="language-plaintext highlighter-rouge">distantSpecialDesc</code></a> <a href="../object/ActorState.html#endConversation"><code class="language-plaintext highlighter-rouge">endConversation</code></a> <a href="../object/ActorState.html#getActor"><code class="language-plaintext highlighter-rouge">getActor</code></a> <a href="../object/ActorState.html#getNominalTraveler"><code class="language-plaintext highlighter-rouge">getNominalTraveler</code></a> <a href="../object/ActorState.html#getSuggestedTopicList"><code class="language-plaintext highlighter-rouge">getSuggestedTopicList</code></a> <a href="../object/ActorState.html#getTopicOwner"><code class="language-plaintext highlighter-rouge">getTopicOwner</code></a> <a href="../object/ActorState.html#justFollowed"><code class="language-plaintext highlighter-rouge">justFollowed</code></a> <a href="../object/ActorState.html#obeyCommand"><code class="language-plaintext highlighter-rouge">obeyCommand</code></a> <a href="../object/ActorState.html#remoteSpecialDesc"><code class="language-plaintext highlighter-rouge">remoteSpecialDesc</code></a> <a href="../object/ActorState.html#showSpecialDescInContents"><code class="language-plaintext highlighter-rouge">showSpecialDescInContents</code></a> <a href="../object/ActorState.html#specialDesc"><code class="language-plaintext highlighter-rouge">specialDesc</code></a> <a href="../object/ActorState.html#specialDescListWith"><code class="language-plaintext highlighter-rouge">specialDescListWith</code></a> <a href="../object/ActorState.html#suggestTopicsFor"><code class="language-plaintext highlighter-rouge">suggestTopicsFor</code></a> <a href="../object/ActorState.html#takeTurn"><code class="language-plaintext highlighter-rouge">takeTurn</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">TravelMessageHandler</code> :<br />
<a href="../object/TravelMessageHandler.html#sayArriving"><code class="language-plaintext highlighter-rouge">sayArriving</code></a> <a href="../object/TravelMessageHandler.html#sayArrivingDir"><code class="language-plaintext highlighter-rouge">sayArrivingDir</code></a> <a href="../object/TravelMessageHandler.html#sayArrivingDownStairs"><code class="language-plaintext highlighter-rouge">sayArrivingDownStairs</code></a> <a href="../object/TravelMessageHandler.html#sayArrivingLocally"><code class="language-plaintext highlighter-rouge">sayArrivingLocally</code></a> <a href="../object/TravelMessageHandler.html#sayArrivingThroughPassage"><code class="language-plaintext highlighter-rouge">sayArrivingThroughPassage</code></a> <a href="../object/TravelMessageHandler.html#sayArrivingUpStairs"><code class="language-plaintext highlighter-rouge">sayArrivingUpStairs</code></a> <a href="../object/TravelMessageHandler.html#sayArrivingViaPath"><code class="language-plaintext highlighter-rouge">sayArrivingViaPath</code></a> <a href="../object/TravelMessageHandler.html#sayDeparting"><code class="language-plaintext highlighter-rouge">sayDeparting</code></a> <a href="../object/TravelMessageHandler.html#sayDepartingDir"><code class="language-plaintext highlighter-rouge">sayDepartingDir</code></a> <a href="../object/TravelMessageHandler.html#sayDepartingDownStairs"><code class="language-plaintext highlighter-rouge">sayDepartingDownStairs</code></a> <a href="../object/TravelMessageHandler.html#sayDepartingLocally"><code class="language-plaintext highlighter-rouge">sayDepartingLocally</code></a> <a href="../object/TravelMessageHandler.html#sayDepartingThroughPassage"><code class="language-plaintext highlighter-rouge">sayDepartingThroughPassage</code></a> <a href="../object/TravelMessageHandler.html#sayDepartingUpStairs"><code class="language-plaintext highlighter-rouge">sayDepartingUpStairs</code></a> <a href="../object/TravelMessageHandler.html#sayDepartingViaPath"><code class="language-plaintext highlighter-rouge">sayDepartingViaPath</code></a> <a href="../object/TravelMessageHandler.html#sayTravelingRemotely"><code class="language-plaintext highlighter-rouge">sayTravelingRemotely</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ActorTopicDatabase</code> :<br />
<a href="../object/ActorTopicDatabase.html#showTopicResponse"><code class="language-plaintext highlighter-rouge">showTopicResponse</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">TopicDatabase</code> :<br />
<a href="../object/TopicDatabase.html#addSuggestedTopic"><code class="language-plaintext highlighter-rouge">addSuggestedTopic</code></a> <a href="../object/TopicDatabase.html#addTopic"><code class="language-plaintext highlighter-rouge">addTopic</code></a> <a href="../object/TopicDatabase.html#addTopicToList"><code class="language-plaintext highlighter-rouge">addTopicToList</code></a> <a href="../object/TopicDatabase.html#compareVocabMatch"><code class="language-plaintext highlighter-rouge">compareVocabMatch</code></a> <a href="../object/TopicDatabase.html#findTopicResponse"><code class="language-plaintext highlighter-rouge">findTopicResponse</code></a> <a href="../object/TopicDatabase.html#handleTopic"><code class="language-plaintext highlighter-rouge">handleTopic</code></a> <a href="../object/TopicDatabase.html#removeSuggestedTopic"><code class="language-plaintext highlighter-rouge">removeSuggestedTopic</code></a> <a href="../object/TopicDatabase.html#removeTopic"><code class="language-plaintext highlighter-rouge">removeTopic</code></a> <a href="../object/TopicDatabase.html#removeTopicFromList"><code class="language-plaintext highlighter-rouge">removeTopicFromList</code></a> <a href="../object/TopicDatabase.html#showSuggestedTopicList"><code class="language-plaintext highlighter-rouge">showSuggestedTopicList</code></a></p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="getImpliedConvState"></span></p>

<p><code class="language-plaintext highlighter-rouge">getImpliedConvState</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4753">4753</a>]</p>

<p>my implied conversational state is my in-conversation state</p>

<p><span id="inConvState"></span></p>

<p><code class="language-plaintext highlighter-rouge">inConvState</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4750">4750</a>]</p>

<p>The associated in-conversation state. This should be set to an
InConversationState object that controls the actor’s behavior while
carrying on a conversation. Note that the library will automatically set
this if the instance is nested (via its ‘location’ property) inside an
InConversationState object.</p>

<p><span id="stateSuggestedTopics"></span></p>

<p><code class="language-plaintext highlighter-rouge">stateSuggestedTopics</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4934">4934</a>]</p>

<p>Get this state’s suggested topic list. ConversationReady states
shouldn’t normally have topic entries of their own, since a
ConvversationReady state usually forwards conversation handling to its
corresponding in-conversation state. So, simply return the suggestion
list from our in-conversation state object.</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="enterConversation"></span></p>

<p><code class="language-plaintext highlighter-rouge">enterConversation (actor, entry)</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4899">4899</a>]</p>

<p>Enter a conversation with the given actor, either explicitly (via HELLO
or TALK TO) or implicitly (by directly asking a question, etc). ‘entry’
gives the TopicEntry that’s triggering the implicit conversation entry;
if this is nil, it means that we’re being triggered explicitly.</p>

<p><span id="enterFromConversation"></span></p>

<p><code class="language-plaintext highlighter-rouge">enterFromConversation (actor, reason, oldNode)</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4815">4815</a>]</p>

<p>Enter this state from a conversation. This should show any message we
want to display when we’re ending a conversation and switching from the
conversation to this state. ‘reason’ is the endConvXxx enum indicating
what triggered the termination of the conversation. ‘oldNode’ is the
ConvNode we were in just before we initiated the termination - we need
this information because we want to look in the ConvNode for a Bye topic
message to display, but we can’t just look in the actor for the node
because it will already have been cleared out by the time we get here.</p>

<p>Games shouldn’t normally override this method. Instead, simply create a
ByeTopic entry and put it inside the state object; we’ll find the
ByeTopic and show its message for the goodbye.</p>

<p>If you want to distinguish between different types of goodbyes, you can
create an ImpByeTopic for any implied goodbye (i.e., the kind where the
other actor just walks away, or where we get bored of the other actor
ignoring us). You can also further differentiate by creating
BoredByeTopic and/or LeaveByeTopic objects to handle just those cases.
The regular ByeTopic will handle explicit GOODBYE commands, and the
others (ImpByeTopic, BoredByeTopic, LeaveByeTopic) will handle the
implied kinds.</p>

<p><span id="handleConversation"></span></p>

<p><code class="language-plaintext highlighter-rouge">handleConversation (otherActor, topic, convType)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4839">4839</a>]</p>

<p>handle a conversational action directed to our actor</p>

<p><span id="initializeActorState"></span></p>

<p><code class="language-plaintext highlighter-rouge">initializeActorState ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4937">4937</a>]</p>

<p>initialize the actor state object</p>

<p><span id="initiateTopic"></span></p>

<p><code class="language-plaintext highlighter-rouge">initiateTopic (obj)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4875">4875</a>]</p>

<p>Initiate conversation based on the given simulation object. This is an
internal method that isn’t usually called directly from game code; game
code usually calls the Actor’s initiateTopic(), which calls this routine
to check for a topic that’s part of the state object.</p>

<p><span id="notifyTopicResponse"></span></p>

<p><code class="language-plaintext highlighter-rouge">notifyTopicResponse (fromActor, entry)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4886">4886</a>]</p>

<p>Receive notification that a TopicEntry is being used (via its
handleTopic method) to respond to a command. If the TopicEntry is
conversational, automatically enter our in-conversation state.</p>

<p><span id="showGreetingMsg"></span></p>

<p><code class="language-plaintext highlighter-rouge">showGreetingMsg (actor, explicit)</code></p>

<p><a href="../file/actor.t.html">actor.t</a>[<a href="../source/actor.t.html#4783">4783</a>]</p>

<p>Show our greeting message. If ‘explicit’ is true, it means that the
player character is greeting us through an explicit greeting command,
such as HELLO or TALK TO. Otherwise, the greeting is implied by some
other conversational action, such a ASK ABOUT or SHOW TO. We do nothing
by default; this should be overridden in most cases to show some sort of
exchange of pleasantries - something like this:</p>

<p>&gt;bob, hello<br />
“Hi, there,” you say.</p>

<p>Bob looks up over his newspaper. “Oh, hello,” he says, putting down the
paper. “What can I do for you?”</p>

<p>Note that games shouldn’t usually override this method. Instead, you
should simply create a HelloTopic entry and put it inside the state
object; we’ll find the HelloTopic and show its message as our greeting.</p>

<p>If you want to distinguish between explicit and implicit greetings, you
can create an ImpHelloTopic entry for implied greetings (i.e., the kind
of greeting that occurs automatically when the player jumps right into a
conversation with our actor using ASK ABOUT or the like, without
explicitly saying HELLO first). The regular HelloTopic will handle
explicit greetings, and the ImpHelloTopic will handle the implied kind.</p>

<p>TADS 3 Library Manual<br />
Generated on 5/16/2013 from TADS version 3.1.3</p>


</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>