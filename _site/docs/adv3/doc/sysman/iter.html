<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3-doc-sysman-iter-html</title>
    <meta property="og:title" content=
    "docs-adv3-doc-sysman-iter-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search/" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><img src="topbar.jpg" data-border="0" /></p>

<p><a href="toc.html" class="nav">Table of Contents</a> |
<a href="builtins.html" class="nav">The Intrinsics</a> &gt; Iterator<br />
<span class="navnp"><a href="icic.html" class="nav"><em>Prev:</em> IntrinsicClass</a>
    <a href="list.html" class="nav"><em>Next:</em> List</a>     </span></p>

<h1 id="iterator">Iterator</h1>

<p>An Iterator is an object that allows you to visit each element of a
Collection using a consistent interface for all types of collections.
You can never instantiate an Iterator directly (in other words, you
can’t use the <code class="language-plaintext highlighter-rouge">new</code> operator to create an
Iterator); instead, you create an Iterator by calling a Collection
object’s <code class="language-plaintext highlighter-rouge">createIterator()</code> method, which
creates an iterator customized for that specific type of collection.</p>

<p>When you create an Iterator via a Collection’s
<code class="language-plaintext highlighter-rouge">createIterator()</code> method, the Iterator refers
to a “snapshot” of the collection, and is initialized so that the first
call to <code class="language-plaintext highlighter-rouge">getNext()</code> will return the first
element of the collection. The Iterator uses a snapshot of the
collection to ensure that changes made to the collection after creating
the Iterator do not affect the iteration.</p>

<h2 id="iterator-methods">Iterator methods</h2>

<p><code class="language-plaintext highlighter-rouge">getCurKey()</code></p>

<p>Returns the key for the current item in the iteration. For List and
Vector objects, this returns the index of the current value; for
LookupTable objects, this returns the key. Throws an error (“index out
of range”) if the iteration has not been started yet (that is,
<code class="language-plaintext highlighter-rouge">getNext()</code> has never been called on this
Iterator) or has moved past the last item.</p>

<p><code class="language-plaintext highlighter-rouge">getCurVal()</code></p>

<p>Returns the value of the current item in the iteration (this is the same
value that the most recent call to getNext() returned). Throws an error
(“index out of range”) if the iteration has not been started yet or has
moved past the last item.</p>

<p><code class="language-plaintext highlighter-rouge">getNext()</code></p>

<p>Returns the next element of the collection. The order in which the
iterator returns the collection’s elements varies by the collection
type:</p>

<ul>
  <li>For List objects, the elements of the list are returned in order of
the index values; the first item returned is the item at index 1, the
second is the item at index 2, and so forth.</li>
  <li>For LookupTable objects, the elements are returned in an arbitrary
order that depends on the internal arrangement of the table’s
elements.</li>
  <li>For Vector objects, the elements are returned in order of index
values.</li>
</ul>

<p>Each time you call <code class="language-plaintext highlighter-rouge">getNext()</code>, the iterator
updates its internal state to refer to the next element of the
collection, so the next call will return the next item. When you first
create an Iterator (by calling a Collection object’s
<code class="language-plaintext highlighter-rouge">createIterator()</code> method), the Iterator is
initialized so that the first call to
<code class="language-plaintext highlighter-rouge">getNext()</code> will return the first element of the
collection.</p>

<p>After all of the collection’s elements have been exhausted, calling
<code class="language-plaintext highlighter-rouge">getNext()</code> will cause an error (“out of
bounds”) to be thrown.</p>

<p><code class="language-plaintext highlighter-rouge">isNextAvailable()</code></p>

<p>Returns <code class="language-plaintext highlighter-rouge">true</code> if calling
<code class="language-plaintext highlighter-rouge">getNext()</code> will yield a valid item,
<code class="language-plaintext highlighter-rouge">nil</code> if not. You can call this prior to calling
<code class="language-plaintext highlighter-rouge">getNext()</code> to ensure that
<code class="language-plaintext highlighter-rouge">getNext()</code> will not throw an error.</p>

<p><code class="language-plaintext highlighter-rouge">resetIterator()</code></p>

<p>Resets the iteration to its first element. After calling this method,
the next call to <code class="language-plaintext highlighter-rouge">getNext()</code> will yield the
first element of the collection.</p>

<hr />

<p><em>TADS 3 System Manual</em><br />
<a href="toc.html" class="nav">Table of Contents</a> |
<a href="builtins.html" class="nav">The Intrinsics</a> &gt; Iterator<br />
<span class="navnp"><a href="icic.html" class="nav"><em>Prev:</em> IntrinsicClass</a>
    <a href="list.html" class="nav"><em>Next:</em> List</a>     </span></p>


</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>