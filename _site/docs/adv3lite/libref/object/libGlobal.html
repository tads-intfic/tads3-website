<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3lite-libref-object-libglobal-html</title>
    <meta property="og:title" content=
    "docs-adv3lite-libref-object-libglobal-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">libGlobal</span><span class="type">object</span></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#571">571</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>Library global variables</p>

<p><strong><code class="language-plaintext highlighter-rouge">libGlobal</code></strong><code class="language-plaintext highlighter-rouge"> :   object</code></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">libGlobal</code></strong><br />
`         object`<br />
<span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p>` <a href="#commandLineArgs"><code class="language-plaintext highlighter-rouge">commandLineArgs</code></a>  <a href="#curAction"><code class="language-plaintext highlighter-rouge">curAction</code></a>  <a href="#curActor"><code class="language-plaintext highlighter-rouge">curActor</code></a>  <a href="#curCommand"><code class="language-plaintext highlighter-rouge">curCommand</code></a>  <a href="#curIssuingActor"><code class="language-plaintext highlighter-rouge">curIssuingActor</code></a>  <a href="#exitListerObj"><code class="language-plaintext highlighter-rouge">exitListerObj</code></a>  <a href="#extraDestInfo"><code class="language-plaintext highlighter-rouge">extraDestInfo</code></a>  <a href="#extraHintManagerObj"><code class="language-plaintext highlighter-rouge">extraHintManagerObj</code></a>  <a href="#footnoteClass"><code class="language-plaintext highlighter-rouge">footnoteClass</code></a>  <a href="#hintManagerObj"><code class="language-plaintext highlighter-rouge">hintManagerObj</code></a>  <a href="#IFID"><code class="language-plaintext highlighter-rouge">IFID</code></a>  <a href="#inventoryTall"><code class="language-plaintext highlighter-rouge">inventoryTall</code></a>  <a href="#lastAction"><code class="language-plaintext highlighter-rouge">lastAction</code></a>  <a href="#lastActorForUndo"><code class="language-plaintext highlighter-rouge">lastActorForUndo</code></a>  <a href="#lastCommand"><code class="language-plaintext highlighter-rouge">lastCommand</code></a>  <a href="#lastCommandForAgain"><code class="language-plaintext highlighter-rouge">lastCommandForAgain</code></a>  <a href="#lastCommandForUndo"><code class="language-plaintext highlighter-rouge">lastCommandForUndo</code></a>  <a href="#lastLoc"><code class="language-plaintext highlighter-rouge">lastLoc</code></a>  <a href="#lastTypedOnObj"><code class="language-plaintext highlighter-rouge">lastTypedOnObj</code></a>  <a href="#lastWrittenOnObj"><code class="language-plaintext highlighter-rouge">lastWrittenOnObj</code></a>  <a href="#libMessageObj"><code class="language-plaintext highlighter-rouge">libMessageObj</code></a>  <a href="#nameTable_"><code class="language-plaintext highlighter-rouge">nameTable_</code></a>  <a href="#objectNameTab"><code class="language-plaintext highlighter-rouge">objectNameTab</code></a>  <a href="#parserDebugMode"><code class="language-plaintext highlighter-rouge">parserDebugMode</code></a>  <a href="#playerChar"><code class="language-plaintext highlighter-rouge">playerChar</code></a>  <a href="#playerCharName"><code class="language-plaintext highlighter-rouge">playerCharName</code></a>  <a href="#revealedNameTab"><code class="language-plaintext highlighter-rouge">revealedNameTab</code></a>  <a href="#scoreObj"><code class="language-plaintext highlighter-rouge">scoreObj</code></a>  <a href="#thoughtManagerObj"><code class="language-plaintext highlighter-rouge">thoughtManagerObj</code></a>  <a href="#totalTurns"><code class="language-plaintext highlighter-rouge">totalTurns</code></a>  `</p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p>` <a href="#addExtraDestInfo"><code class="language-plaintext highlighter-rouge">addExtraDestInfo</code></a>  <a href="#getCommandSwitch"><code class="language-plaintext highlighter-rouge">getCommandSwitch</code></a>  <a href="#setRevealed"><code class="language-plaintext highlighter-rouge">setRevealed</code></a>  <a href="#setUnrevealed"><code class="language-plaintext highlighter-rouge">setUnrevealed</code></a>  `</p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="commandLineArgs"></span></p>

<p><code class="language-plaintext highlighter-rouge">commandLineArgs</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#702">702</a>]</p>

<p>Command line arguments. The library sets this to a list of strings
containing the arguments passed to the program on the command line. This
list contains the command line arguments parsed according to the local
conventions for the operating system and C++ library. The standard
parsing procedure used by most systems is to break the line into tokens
delimited by space characters. Many systems also allow space characters
to be embedded in tokens by quoting the tokens. The first argument is
always the name of the .t3 file currently executing.</p>

<p><span id="curAction"></span></p>

<p><code class="language-plaintext highlighter-rouge">curAction</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#663">663</a>]</p>

<p><em>no description available</em></p>

<p><span id="curActor"></span></p>

<p><code class="language-plaintext highlighter-rouge">curActor</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#661">661</a>]</p>

<p>Current command information. We keep track of the current command’s
actor and action here.</p>

<p><span id="curCommand"></span></p>

<p><code class="language-plaintext highlighter-rouge">curCommand</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#666">666</a>]</p>

<p>The current Command object</p>

<p><span id="curIssuingActor"></span></p>

<p><code class="language-plaintext highlighter-rouge">curIssuingActor</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#662">662</a>]</p>

<p><em>no description available</em></p>

<p><span id="exitListerObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">exitListerObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#675">675</a>]</p>

<p>the exitLister object, if included in the build</p>

<p><span id="extraDestInfo"></span></p>

<p><code class="language-plaintext highlighter-rouge">extraDestInfo</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#757">757</a>]</p>

<p>A lookup table to store information about the destinations of direction
properties not connected to objects (i.e. direction properties defined
as strings or methods</p>

<p><span id="extraHintManagerObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">extraHintManagerObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#681">681</a>]</p>

<p>the extra hint manager, if included in the build</p>

<p><span id="footnoteClass"></span></p>

<p><code class="language-plaintext highlighter-rouge">footnoteClass</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#618">618</a>]</p>

<p>The global Footnote class object. We use a global for this, rather than
referencing Footnote directly, to allow the footnote module to be left
out entirely if the game doesn’t make use of footnotes. The footnote
class should set this during pre-initialization.</p>

<p><span id="hintManagerObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">hintManagerObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#678">678</a>]</p>

<p>the hint manager, if included in the build</p>

<p><span id="IFID"></span></p>

<p><code class="language-plaintext highlighter-rouge">IFID</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#689">689</a>]</p>

<p>The game’s IFID, as defined in the game’s main module ID object. If the
game has multiple IFIDs in the module list, this will store only the
first IFID in the list. NOTE: the library initializes this automatically
during preinit; don’t set this manually.</p>

<p><span id="inventoryTall"></span></p>

<p><code class="language-plaintext highlighter-rouge">inventoryTall</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#851">851</a>]</p>

<p>Flag determining whether inventory listing should be in the wide (nil)
or tall (true) format. By default we start out with the wide format
(inventoryTall = nil), although game code could override this.</p>

<p><span id="lastAction"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastAction</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#669">669</a>]</p>

<p>The last action to be performed.</p>

<p><span id="lastActorForUndo"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastActorForUndo</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#652">652</a>]</p>

<p>Most recent target actor phrase; this goes with lastCommandForUndo. This
is nil if the last command did not specify an actor (i.e., was
implicitly for the player character), otherwise is the string the player
typed specifying a target actor.</p>

<p><span id="lastCommand"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastCommand</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#672">672</a>]</p>

<p>The previous Command object</p>

<p><span id="lastCommandForAgain"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastCommandForAgain</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#655">655</a>]</p>

<p>The text of the last command to be repeated by Again</p>

<p><span id="lastCommandForUndo"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastCommandForUndo</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#643">643</a>]</p>

<p>Most recent command, for ‘undo’ purposes. This is the last command the
player character performed, or the last initial command a player
directed to an NPC.</p>

<p>Note that if the player directed a series of commands to an NPC with a
single command line, only the first command on such a command line is
retained here, because it is only the first such command that counts as
a player’s turn in terms of the game clock. Subsequent commands are
executed by the NPC’s on the NPC’s own time, and do not count against
the PC’s game clock time. The first command counts against the PC’s
clock because of the time it takes the PC to give the command to the
NPC.</p>

<p><span id="lastLoc"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastLoc</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#749">749</a>]</p>

<p>The last location visited by the player char before a travel action.
Noted to allow travel back.</p>

<p><span id="lastTypedOnObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastTypedOnObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#838">838</a>]</p>

<p>The object last typed on</p>

<p><span id="lastWrittenOnObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastWrittenOnObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#835">835</a>]</p>

<p>The object last written on</p>

<p><span id="libMessageObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">libMessageObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#593">593</a>]</p>

<p>The current library messages object. This is the source object for
messages that don’t logically relate to the actor carrying out the
comamand. It’s mostly used for meta-command replies, and for text
fragments that are used to construct descriptions.</p>

<p>This message object isn’t generally used for parser messages or action
replies - most of those come from the objects given by the current
actor’s getParserMessageObj() or getActionMessageObj(), respectively.</p>

<p>By default, this is set to libMessages. The library never changes this
itself, but a game can change this if it wants to switch to a new set of
messages during a game. (If you don’t need to change messages during a
game, but simply want to customize some of the default messages, you
don’t need to set this variable - you can simply use ‘modify
libMessages’ instead. This variable is designed for cases where you want
to *dynamically* change the standard messages during the game.)</p>

<p><span id="nameTable_"></span></p>

<p><code class="language-plaintext highlighter-rouge">nameTable_</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#844">844</a>]</p>

<p>our name table for parameter substitutions - a LookupTable that we set
up during preinit</p>

<p><span id="objectNameTab"></span></p>

<p><code class="language-plaintext highlighter-rouge">objectNameTab</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#829">829</a>]</p>

<p>The symbol table for every game object.</p>

<p><span id="parserDebugMode"></span></p>

<p><code class="language-plaintext highlighter-rouge">parserDebugMode</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#627">627</a>]</p>

<p>flag: the parser is in ‘debug’ mode, in which it displays the parse tree
for each command entered</p>

<p><span id="playerChar"></span></p>

<p><code class="language-plaintext highlighter-rouge">playerChar</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#598">598</a>]</p>

<p>The current player character</p>

<p><span id="playerCharName"></span></p>

<p><code class="language-plaintext highlighter-rouge">playerCharName</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#601">601</a>]</p>

<p>The name of the current player character</p>

<p><span id="revealedNameTab"></span></p>

<p><code class="language-plaintext highlighter-rouge">revealedNameTab</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#824">824</a>]</p>

<p>The global lookup table of all revealed keys. This table is keyed by the
string naming the revelation; the value associated with each key is not
used (we always just set it to true).</p>

<p><span id="scoreObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">scoreObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#609">609</a>]</p>

<p>The global score object. We use a global for this, rather than
referencing libScore directly, to allow the score module to be left out
entirely if the game doesn’t make use of scoring. The score module
should set this during pre-initialization.</p>

<p><span id="thoughtManagerObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">thoughtManagerObj</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#832">832</a>]</p>

<p>The thought manager object, if it exists.</p>

<p><span id="totalTurns"></span></p>

<p><code class="language-plaintext highlighter-rouge">totalTurns</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#621">621</a>]</p>

<p>the total number of turns so far</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="addExtraDestInfo"></span></p>

<p><code class="language-plaintext highlighter-rouge">addExtraDestInfo (source, dirn, dest)</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#766">766</a>]</p>

<p>Add an item to the extraDestInfo table keyed on the source room plus the
direction taken, with the value being the destination arrived at (which
most of the time will probably be the same as the source, since in most
cases where we create one of these records, no travel will have taken
place.</p>

<p><span id="getCommandSwitch"></span></p>

<p><code class="language-plaintext highlighter-rouge">getCommandSwitch (s)</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#722">722</a>]</p>

<p>Retrieve a “switch” from the command line. Switches are options
specifies with the conventional Unix “-xxx” notation. This searches for
a command option that equals the given string or starts with the given
substring. If we find it, we return the part of the option after the
given substring - this is conventionally the value of the switch. For
example, the command line might look like this:</p>

<p>t3run mygame.t3 -name=MyGame -user=Bob</p>

<p>Searching for ‘-name=’ would return ‘MyGame’, and searching for ‘-user=’
would return’ Bob’.</p>

<p>If the switch is found but has no value attached, the return value is an
empty string. If the switch isn’t found at all, the return value is nil.</p>

<p><span id="setRevealed"></span></p>

<p><code class="language-plaintext highlighter-rouge">setRevealed (tag)</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#800">800</a>]</p>

<p>Mark a tag as revealed. This adds an entry for the tag to the
revealedNameTab table. We simply set the table entry to ‘true’; the
presence of the tag in the table constitutes the indication that the tag
has been revealed.</p>

<p>(Games and library extensions can use ‘modify’ to override this and
store more information in the table entry. For example, you could store
the time when the information was first revealed, or the location where
it was learned. If you do override this, just be sure to set the
revealedNameTab entry for the tag to a non-nil and non-zero value, so
that any code testing the presence of the table entry will see that the
slot is indeed set.)</p>

<p>We put the revealedNameTab table and the setRevealed method here rather
than on conversationManager so that it’s available to games that don’t
include actor.t.</p>

<p><span id="setUnrevealed"></span></p>

<p><code class="language-plaintext highlighter-rouge">setUnrevealed (tag)</code></p>

<p><a href="../file/misc.t.html">misc.t</a>[<a href="../source/misc.t.html#813">813</a>]</p>

<p>Mark a tag as unrevealed. This removes the entry for the tag from the
revealedNameTab table.</p>

<p>We put the revealedNameTab table and the setRevealed method here rather
than on conversationManager so that it’s available to games that don’t
include actor.t.</p>

<p>Adv3Lite Library Reference Manual<br />
Generated on 15/03/2023 from adv3Lite version 1.6.1</p>


</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>