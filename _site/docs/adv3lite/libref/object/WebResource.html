<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3lite-libref-object-webresource-html</title>
    <meta property="og:title" content=
    "docs-adv3lite-libref-object-webresource-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">WebResource</span><span class="type">class</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#798">798</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>A WebResource is a virtual file accessible via the HTTP server. Each
resource object has a path, which can be given as a simple string that
must be matched exactly, or as a RexPattern object with a regular
expression to be matched. Each object also has a “processRequest”
method, which the server invokes to answer the request when the path is
matched.</p>

<p><code class="language-plaintext highlighter-rouge">class </code><strong><code class="language-plaintext highlighter-rouge">WebResource</code></strong><code class="language-plaintext highlighter-rouge"> :   object</code></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">WebResource</code></strong><br />
`         object`<br />
<span id="_SubClassTree_"></span></p>

<p><span class="hdln">Subclass Tree</span>  </p>

<p><strong><code class="language-plaintext highlighter-rouge">WebResource</code></strong><br />
<a href="../object/WebResourceResFile.html"><code class="language-plaintext highlighter-rouge">WebResourceResFile</code></a><br />
<a href="../object/WebWindow.html"><code class="language-plaintext highlighter-rouge">WebWindow</code></a><br />
<a href="../object/WebCommandWin.html"><code class="language-plaintext highlighter-rouge">WebCommandWin</code></a><br />
<a href="../object/WebLayoutWindow.html"><code class="language-plaintext highlighter-rouge">WebLayoutWindow</code></a><br />
<a href="../object/WebStatusWin.html"><code class="language-plaintext highlighter-rouge">WebStatusWin</code></a><br />
<span id="_ObjectSummary_"></span></p>

<p><span class="hdln">Global Objects</span>  </p>

<p>` <a href="../object/eventPage.html"><code class="language-plaintext highlighter-rouge">eventPage</code></a>  <a href="../object/flushEventsPage.html"><code class="language-plaintext highlighter-rouge">flushEventsPage</code></a>  <a href="../object/guestConnectPage.html"><code class="language-plaintext highlighter-rouge">guestConnectPage</code></a>  <a href="../object/inputDialogPage.html"><code class="language-plaintext highlighter-rouge">inputDialogPage</code></a>  <a href="../object/inputEventPage.html"><code class="language-plaintext highlighter-rouge">inputEventPage</code></a>  <a href="../object/inputFileCancel.html"><code class="language-plaintext highlighter-rouge">inputFileCancel</code></a>  <a href="../object/inputFilePage.html"><code class="language-plaintext highlighter-rouge">inputFilePage</code></a>  <a href="../object/inputLinePage.html"><code class="language-plaintext highlighter-rouge">inputLinePage</code></a>  <a href="../object/menuSysEventPage.html"><code class="language-plaintext highlighter-rouge">menuSysEventPage</code></a>  <a href="../object/morePromptDonePage.html"><code class="language-plaintext highlighter-rouge">morePromptDonePage</code></a>  <a href="../object/setPrefsPage.html"><code class="language-plaintext highlighter-rouge">setPrefsPage</code></a>  <a href="../object/setScreenNamePage.html"><code class="language-plaintext highlighter-rouge">setScreenNamePage</code></a>  <a href="../object/tempFileDownloadPage.html"><code class="language-plaintext highlighter-rouge">tempFileDownloadPage</code></a>  <a href="../object/uiStatePage.html"><code class="language-plaintext highlighter-rouge">uiStatePage</code></a>  <a href="../object/uploadFilePage.html"><code class="language-plaintext highlighter-rouge">uploadFilePage</code></a>  `
<span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p>` <a href="#group"><code class="language-plaintext highlighter-rouge">group</code></a>  <a href="#priority"><code class="language-plaintext highlighter-rouge">priority</code></a>  <a href="#vpath"><code class="language-plaintext highlighter-rouge">vpath</code></a>  `</p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p>` <a href="#matchRequest"><code class="language-plaintext highlighter-rouge">matchRequest</code></a>  <a href="#processRequest"><code class="language-plaintext highlighter-rouge">processRequest</code></a>  <a href="#sendAck"><code class="language-plaintext highlighter-rouge">sendAck</code></a>  <a href="#sendXML"><code class="language-plaintext highlighter-rouge">sendXML</code></a>  `</p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="group"></span></p>

<p><code class="language-plaintext highlighter-rouge">group</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#865">865</a>]</p>

<p>The group this resource is part of. This is the object that “contains”
the resource, via its ‘contents’ property; any object will work here,
since it’s just a place to put the contents list for the resource group.</p>

<p>By default, we put all resources into the mainWebGroup object.</p>

<p>The point of the group is to allow different servers to use different
sets of resources, or to allow one server to use different resource sets
under different circumstances. When a server processes a request, it
does so by looking through the ‘contents’ list for a group of its
choice.</p>

<p><span id="priority"></span></p>

<p><code class="language-plaintext highlighter-rouge">priority</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#849">849</a>]</p>

<p>The priority of this resource. If the path is given as a regular
expression, a given request might match more than one resource. In such
cases, the matching resource with the highest priority is the one that’s
actually used to process the request.</p>

<p><span id="vpath"></span></p>

<p><code class="language-plaintext highlighter-rouge">vpath</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#827">827</a>]</p>

<p>The virtual path to the resource. This is the apparent URL path to this
resource, as seen by the client.</p>

<p>URL paths follow the Unix file system conventions in terms of format,
but don’t confuse the virtual path with an actual file system path. The
vpath doesn’t have anything to do with the disk file system on the
server machine or anywhere else. That’s why we call it “virtual” - it’s
merely the apparent location, from the client’s perspective.</p>

<p>When the server receives a request from the client, it looks at the URL
sent by the client to determine which WebResource object should handle
the request. The server does this by matching the resource path portion
of the URL to the virtual path of each WebResource, until it finds a
WebResource that matches. The resource path in the URL is the part of
the URL following the domain, and continuing up to but not including any
“?” query parameters. The resource path always starts with a slash “/”.
For example, for the URL “http://192.168.1.15/test/path?param=1”, the
resource path would be “/test/path”.</p>

<p>The virtual path can be given as a string or as a RexPattern. If it’s a
string, a URL resource path must match the virtual path exactly,
including upper/lower case. If the virtual path is given as a
RexPattern, the URL resource path will be matched to the pattern with
the usual regular expression rules.</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="matchRequest"></span></p>

<p><code class="language-plaintext highlighter-rouge">matchRequest (query, req)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#883">883</a>]</p>

<p>Determine if this resource matches the given request. ‘query’ is the
parsed query from the request, as returned by req.parseQuery(). ‘req’ is
the HTTPRequest object representing the request; you can use this to
extract more information from the request, such as cookies or the
client’s network address.</p>

<p>This method returns true if the request matches this resource, nil if
not.</p>

<p>You can override this to specify more complex matching rules than you
could achieve just by specifying the path string or RexPattern. For
example, you could make the request conditional on the time of day, past
request history, cookies in the request, parameters, etc.</p>

<p><span id="processRequest"></span></p>

<p><code class="language-plaintext highlighter-rouge">processRequest (req, query)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#837">837</a>]</p>

<p>Process the request. This is invoked when we determine that this is the
highest priority resource object matching the request. ‘req’ is the
HTTPRequest object; ‘query’ is the parsed query data as returned by
req.parseQuery(). The query information is provided for convenience, in
case the result depends on the query parameters.</p>

<p><span id="sendAck"></span></p>

<p><code class="language-plaintext highlighter-rouge">sendAck (req, xml, =, ', &lt;, ok, /, &gt;, ')</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#911">911</a>]</p>

<p>Send a generic request acknowledgment or reply. This wraps the given XML
fragment in an XML document with the root type given by the last element
in our path name. If the ‘xml’ value is omitted, we send “&lt;ok/&gt;” by
default.</p>

<p><span id="sendXML"></span></p>

<p><code class="language-plaintext highlighter-rouge">sendXML (req, root, xml)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#932">932</a>]</p>

<p>Send an XML reply. This wraps the given XML fragment in an XML document
with the given root element.</p>

<p>Adv3Lite Library Reference Manual<br />
Generated on 15/03/2023 from adv3Lite version 1.6.1</p>


</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>