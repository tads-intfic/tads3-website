<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3lite-libref-object-eventlistitem-html</title>
    <meta property="og:title" content=
    "docs-adv3lite-libref-object-eventlistitem-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">EventListItem</span><span class="type">class</span></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#21">21</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>An EventListItem is an object that can be used within an EventList but
is only used when certain conditions are met (its isReady property
evaluates to true, the game clock time is at or after any next firing
time we have defined, and it hasn’t already been used for any maximum
number of times we care to define).</p>

<p>EventListItems can be added to a regular EventList object by locating
them within that object using the + notation. [EVENTLISTITEM
EXTENSION]</p>

<p><code class="language-plaintext highlighter-rouge">class </code><strong><code class="language-plaintext highlighter-rouge">EventListItem</code></strong><code class="language-plaintext highlighter-rouge"> :   </code><a href="../object/PreinitObject.html"><code class="language-plaintext highlighter-rouge">PreinitObject</code></a></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">EventListItem</code></strong><br />
<a href="../object/PreinitObject.html"><code class="language-plaintext highlighter-rouge">PreinitObject</code></a><br />
<a href="../object/ModuleExecObject.html"><code class="language-plaintext highlighter-rouge">ModuleExecObject</code></a><br />
`                         object`<br />
<span id="_SubClassTree_"></span></p>

<p><span class="hdln">Subclass Tree</span>  </p>

<p><strong><code class="language-plaintext highlighter-rouge">EventListItem</code></strong><br />
<a href="../object/ELI.html"><code class="language-plaintext highlighter-rouge">ELI</code></a><br />
<a href="../object/ELI1.html"><code class="language-plaintext highlighter-rouge">ELI1</code></a><br />
<span id="_ObjectSummary_"></span></p>

<p><span class="hdln">Global Objects</span>  </p>

<p><em>(none)</em> <span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p><a href="#canRemoveWhenDone"><code class="language-plaintext highlighter-rouge">canRemoveWhenDone</code></a> <a href="#doneWhen"><code class="language-plaintext highlighter-rouge">doneWhen</code></a> <a href="#fireCt"><code class="language-plaintext highlighter-rouge">fireCt</code></a> <a href="#isDone"><code class="language-plaintext highlighter-rouge">isDone</code></a> <a href="#isReady"><code class="language-plaintext highlighter-rouge">isReady</code></a> <a href="#lastClock"><code class="language-plaintext highlighter-rouge">lastClock</code></a> <a href="#maxFireCt"><code class="language-plaintext highlighter-rouge">maxFireCt</code></a> <a href="#minInterval"><code class="language-plaintext highlighter-rouge">minInterval</code></a> <a href="#missedTurn"><code class="language-plaintext highlighter-rouge">missedTurn</code></a> <a href="#myListObj"><code class="language-plaintext highlighter-rouge">myListObj</code></a> <a href="#readyTime"><code class="language-plaintext highlighter-rouge">readyTime</code></a> <a href="#whichList"><code class="language-plaintext highlighter-rouge">whichList</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">PreinitObject</code> :<br />
<a href="../object/PreinitObject.html#execBeforeMe"><code class="language-plaintext highlighter-rouge">execBeforeMe</code></a> <a href="../object/PreinitObject.html#reverseGlobalSymbols"><code class="language-plaintext highlighter-rouge">reverseGlobalSymbols</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ModuleExecObject</code> :<br />
<a href="../object/ModuleExecObject.html#execAfterMe"><code class="language-plaintext highlighter-rouge">execAfterMe</code></a> <a href="../object/ModuleExecObject.html#hasInitialized_"><code class="language-plaintext highlighter-rouge">hasInitialized_</code></a> <a href="../object/ModuleExecObject.html#isDoingExec_"><code class="language-plaintext highlighter-rouge">isDoingExec_</code></a> <a href="../object/ModuleExecObject.html#isExecuted_"><code class="language-plaintext highlighter-rouge">isExecuted_</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p><a href="#_invokeItem"><code class="language-plaintext highlighter-rouge">_invokeItem</code></a> <a href="#addToList"><code class="language-plaintext highlighter-rouge">addToList</code></a> <a href="#canFire"><code class="language-plaintext highlighter-rouge">canFire</code></a> <a href="#doScript"><code class="language-plaintext highlighter-rouge">doScript</code></a> <a href="#execute"><code class="language-plaintext highlighter-rouge">execute</code></a> <a href="#fallBack"><code class="language-plaintext highlighter-rouge">fallBack</code></a> <a href="#fallBackResponse"><code class="language-plaintext highlighter-rouge">fallBackResponse</code></a> <a href="#invokeItem"><code class="language-plaintext highlighter-rouge">invokeItem</code></a> <a href="#setDelay"><code class="language-plaintext highlighter-rouge">setDelay</code></a> <a href="#setDone"><code class="language-plaintext highlighter-rouge">setDone</code></a> <a href="#underused"><code class="language-plaintext highlighter-rouge">underused</code></a></p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">ModuleExecObject</code> :<br />
<a href="../object/ModuleExecObject.html#_execute"><code class="language-plaintext highlighter-rouge">_execute</code></a> <a href="../object/ModuleExecObject.html#classExec"><code class="language-plaintext highlighter-rouge">classExec</code></a></p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="canRemoveWhenDone"></span></p>

<p><code class="language-plaintext highlighter-rouge">canRemoveWhenDone</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#194">194</a>]</p>

<p>Flag: can this EventListItem be removed from its eventList once isDone =
true? By default it can, but note that this flag only has any effect
when our EventList’s resetEachCycle property is true. We might want to
set this to nil if isDone might become nil again on this EventListItem,
to avoid it being cleared out of its eventList.</p>

<p><span id="doneWhen"></span></p>

<p><code class="language-plaintext highlighter-rouge">doneWhen</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#209">209</a>]</p>

<p>An alternative condition (which could be defined as a method) which, if
true, causes this EventListItem to be finished with (set to isDone =
true). Note that isDone will be set to try either if this EventListItem
exceeds its maaFireCt or if its doneWhen method/property evaluates to
true.</p>

<p><span id="fireCt"></span></p>

<p><code class="language-plaintext highlighter-rouge">fireCt</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#186">186</a>]</p>

<p>The number of times this EventListItem has fired.</p>

<p><span id="isDone"></span></p>

<p><code class="language-plaintext highlighter-rouge">isDone</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#177">177</a>]</p>

<p>Have we finished with this EventListItem?</p>

<p><span id="isReady"></span></p>

<p><code class="language-plaintext highlighter-rouge">isReady</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#165">165</a>]</p>

<p>Is this EventListItem ready to fire? Note that this is addition to its
not being done and having reached its ready time.</p>

<p><span id="lastClock"></span></p>

<p><code class="language-plaintext highlighter-rouge">lastClock</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#212">212</a>]</p>

<p>The last turn on which this EventListItem fired</p>

<p><span id="maxFireCt"></span></p>

<p><code class="language-plaintext highlighter-rouge">maxFireCt</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#201">201</a>]</p>

<p>The maximum number of times we want this EventListItem to fire. The
default value of nil means that this EventListItem can fire an unlimited
unmber of times. For an EventListItem that fires only once, set
maxFireCt to 1 or use the ELI1 subclass.</p>

<p><span id="minInterval"></span></p>

<p><code class="language-plaintext highlighter-rouge">minInterval</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#221">221</a>]</p>

<p>The minimum interval (in number of turns) between repeated occurrences
of this item.</p>

<p><span id="missedTurn"></span></p>

<p><code class="language-plaintext highlighter-rouge">missedTurn</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#117">117</a>]</p>

<p>This first turn on which we came up in our EventList but were unable to
fire, or nil if we have either not missed or turn or fired on the
previous occasion we could.</p>

<p><span id="myListObj"></span></p>

<p><code class="language-plaintext highlighter-rouge">myListObj</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#60">60</a>]</p>

<p>The EventList object to which we are to belong. If this is left at nil,
our location will be used.</p>

<p><span id="readyTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">readyTime</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#218">218</a>]</p>

<p>The turn count that must be reached before we’re ready to fire. By
default this is 0, but game code can use this or set the setDelay()
method to set/reset it.</p>

<p><span id="whichList"></span></p>

<p><code class="language-plaintext highlighter-rouge">whichList</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#54">54</a>]</p>

<p>we usually want to add objects to a ShuffledEventList’s eventList
property, but items/subclasses could change this to be added to
firstEvents or some other alternate list within the EventList object</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="_invokeItem"></span></p>

<p><code class="language-plaintext highlighter-rouge">_invokeItem ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#84">84</a>]</p>

<p>Otherwise, use our fallback routine.</p>

<p><span id="addToList"></span></p>

<p><code class="language-plaintext highlighter-rouge">addToList (myListObj_, whichList_, =, &amp;, eventList, minInterval_?)</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#270">270</a>]</p>

<p>Add this EventListItem to the whichList list of myListObj_. If
specificied, whichList must be supplied as a property, and otherwise
defaults to &amp;eventList. A minimium interval between firings of this
EventList item can optionally be specified in the minInterval_
parameter, but there is no need to do this if this EventList already
defines its own minInterval or doesn’t require one.</p>

<p><span id="canFire"></span></p>

<p><code class="language-plaintext highlighter-rouge">canFire ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#171">171</a>]</p>

<p>Can this EventListItem item fire? By default it can if its isReady
condition is true and it is not already done (isDone != true) and the
turn count exceeds its ready time.</p>

<p><span id="doScript"></span></p>

<p><code class="language-plaintext highlighter-rouge">doScript ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#66">66</a>]</p>

<p>When the event list to which we’ve been added gets to us, it will call
our doScript() method, so we use that to define what happens.</p>

<p><span id="execute"></span></p>

<p><code class="language-plaintext highlighter-rouge">execute ( )</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#26">26</a>]</p>

<p>Add this EventListItem to the eventList of the EventList object with
which is is to be associated.</p>

<p><span id="fallBack"></span></p>

<p><code class="language-plaintext highlighter-rouge">fallBack ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#124">124</a>]</p>

<p>The method that defines what this EventListItem does if it’s invoked
when it’s not ready to fire.</p>

<p><span id="fallBackResponse"></span></p>

<p><code class="language-plaintext highlighter-rouge">fallBackResponse ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#158">158</a>]</p>

<p>The response to use if all else fails, that is if there we cannot fire
ourselves and there is no non-EventListItem (which could be used in our
place) in the eventList to which we belong. This could, for exmple,
display another message or it could just do nothing, which is the
default. We only need to supply something here if we belong to an
EventList that should display something every turn, for example as a
response to a DefaultTopic or else if we are or may be the final item in
a StopEventList.</p>

<p><span id="invokeItem"></span></p>

<p><code class="language-plaintext highlighter-rouge">invokeItem ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#109">109</a>]</p>

<p>Here goes the code (or a double-quoted string) that carries out what we
do when we’re invoked. Game code will need to define what should happen
here.</p>

<p><span id="setDelay"></span></p>

<p><code class="language-plaintext highlighter-rouge">setDelay (turns)</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#228">228</a>]</p>

<p>Set the number of turns until this EventListItem can be used again. This
could, for example, be called from invokeItem() to set a minimum
interval before this EventListItem is repeated.</p>

<p><span id="setDone"></span></p>

<p><code class="language-plaintext highlighter-rouge">setDone ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#180">180</a>]</p>

<p>Set this EventListItem as having been done</p>

<p><span id="underused"></span></p>

<p><code class="language-plaintext highlighter-rouge">underused ( )</code></p>

<p><a href="../file/eventListItem.t.html">eventListItem.t</a>[<a href="../source/eventListItem.t.html#252">252</a>]</p>

<p>Has this EventListItem been underused? By default it has if it hasn’t
been used at all or it missed out the last time it was called by not
being ready, but game code can override if it wants to employ some other
condition, such as the number of times we’ve been used in relation to
other items in our listObj. The purpose of this is to allow
RandomFiringScripts to prioritize underused EventListItems once they
become ready to fire.</p>

<p>Adv3Lite Library Reference Manual<br />
Generated on 15/03/2023 from adv3Lite version 1.6.1</p>


</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>