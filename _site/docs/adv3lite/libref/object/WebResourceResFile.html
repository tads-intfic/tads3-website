<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3lite-libref-object-webresourceresfile-html</title>
    <meta property="og:title" content=
    "docs-adv3lite-libref-object-webresourceresfile-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">WebResourceResFile</span><span class="type">class</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#980">980</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>A resource file request handler. This handles a request by sending the
contents of the resource file matching the given name.</p>

<p>To expose a bundled game resource as a Web object that the client can
access and download via HTTP, simply create an instance of this class,
and set the virtual path (the vpath property) to the resource name. See
coverArtResource below for an example - that object creates a URL for
the Cover Art image so that the browser can download and display it.</p>

<p>You can expose *all* bundled resources in the entire game simply by
creating an object like this:</p>

<p>WebResourceResFile<br />
vpath = static new RexPattern(‘/’)<br />
;</p>

<p>That creates a URL mapping that matches *any* URL path that
corresponds to a bundled resource name. The library intentionally
doesn’t provide an object like this by default, as a security measure;
the default configuration as a rule tries to err on the side of caution,
and in this case the cautious thing to do is to hide everything by
default. There’s really no system-level security risk in exposing all
resources, since the only files available as resources are files you
explicitly bundle into the build anyway; but even so, some resources
might be for internal use within the game, so we don’t want to just
assume that everything should be downloadable.</p>

<p>You can also expose resources on a directory-by-directory basis, simply
by specifying a longer path prefix:</p>

<p>WebResourceResFile<br />
vpath = static new RexPattern(‘/graphics/’)<br />
;</p>

<p>Again, the library doesn’t define anything like this by default, since
we don’t want to impose any assumptions about how your resources are
organized.</p>

<p><code class="language-plaintext highlighter-rouge">class </code><strong><code class="language-plaintext highlighter-rouge">WebResourceResFile</code></strong><code class="language-plaintext highlighter-rouge"> :   </code><a href="../object/WebResource.html"><code class="language-plaintext highlighter-rouge">WebResource</code></a></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">WebResourceResFile</code></strong><br />
<a href="../object/WebResource.html"><code class="language-plaintext highlighter-rouge">WebResource</code></a><br />
`                 object`<br />
<span id="_SubClassTree_"></span></p>

<p><span class="hdln">Subclass Tree</span>  </p>

<p><strong><code class="language-plaintext highlighter-rouge">WebResourceResFile</code></strong><br />
<a href="../object/WebWindow.html"><code class="language-plaintext highlighter-rouge">WebWindow</code></a><br />
<a href="../object/WebCommandWin.html"><code class="language-plaintext highlighter-rouge">WebCommandWin</code></a><br />
<a href="../object/WebLayoutWindow.html"><code class="language-plaintext highlighter-rouge">WebLayoutWindow</code></a><br />
<a href="../object/WebStatusWin.html"><code class="language-plaintext highlighter-rouge">WebStatusWin</code></a><br />
<span id="_ObjectSummary_"></span></p>

<p><span class="hdln">Global Objects</span>  </p>

<p>` <a href="../object/coverArtResource.html"><code class="language-plaintext highlighter-rouge">coverArtResource</code></a>  <a href="../object/webMainWin.html"><code class="language-plaintext highlighter-rouge">webMainWin</code></a>  <a href="../object/webuiResources.html"><code class="language-plaintext highlighter-rouge">webuiResources</code></a>  `
<span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p>` <a href="#binaryExts"><code class="language-plaintext highlighter-rouge">binaryExts</code></a>  <a href="#browserExtToMime"><code class="language-plaintext highlighter-rouge">browserExtToMime</code></a>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebResource</code> :<br />
` <a href="../object/WebResource.html#group"><code class="language-plaintext highlighter-rouge">group</code></a>  <a href="../object/WebResource.html#priority"><code class="language-plaintext highlighter-rouge">priority</code></a>  <a href="../object/WebResource.html#vpath"><code class="language-plaintext highlighter-rouge">vpath</code></a>  `</p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p>` <a href="#isTextFile"><code class="language-plaintext highlighter-rouge">isTextFile</code></a>  <a href="#matchRequest"><code class="language-plaintext highlighter-rouge">matchRequest</code></a>  <a href="#processName"><code class="language-plaintext highlighter-rouge">processName</code></a>  <a href="#processRequest"><code class="language-plaintext highlighter-rouge">processRequest</code></a>  `</p>

<p>Inherited from <code class="language-plaintext highlighter-rouge">WebResource</code> :<br />
` <a href="../object/WebResource.html#sendAck"><code class="language-plaintext highlighter-rouge">sendAck</code></a>  <a href="../object/WebResource.html#sendXML"><code class="language-plaintext highlighter-rouge">sendXML</code></a>  `</p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="binaryExts"></span></p>

<p><code class="language-plaintext highlighter-rouge">binaryExts</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1083">1083</a>]</p>

<p>table of common binary file extensions</p>

<p><span id="browserExtToMime"></span></p>

<p><code class="language-plaintext highlighter-rouge">browserExtToMime</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1043">1043</a>]</p>

<p>extension to MIME type map for important browser file types</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="isTextFile"></span></p>

<p><code class="language-plaintext highlighter-rouge">isTextFile (fname)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1061">1061</a>]</p>

<p>Determine if the given file is a text file or a binary file. By default,
we base the determination solely on the filename suffix, checking the
extension against a list of common file types.</p>

<p><span id="matchRequest"></span></p>

<p><code class="language-plaintext highlighter-rouge">matchRequest (query, req)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#986">986</a>]</p>

<p>Match a request. A resource file resource matches if we match the
virtual path setting for the resource, and the requested resource file
exists.</p>

<p><span id="processName"></span></p>

<p><code class="language-plaintext highlighter-rouge">processName (n)</code></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#1054">1054</a>]</p>

<p>Process the name. This takes the path string from the query, and returns
the resource file name to look for. By default, we simply return the
same name specified by the client, minus the leading ‘/’ (since resource
paths are always relative).</p>

<p><span id="processRequest"></span></p>

<p><code class="language-plaintext highlighter-rouge">processRequest (req, query)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/webui.t.html">webui.t</a>[<a href="../source/webui.t.html#992">992</a>]</p>

<p>process the request: send the resource file’s contents</p>

<p>Adv3Lite Library Reference Manual<br />
Generated on 15/03/2023 from adv3Lite version 1.6.1</p>


</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>