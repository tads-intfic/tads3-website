<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title>docs-adv3lite-libref-object-multiloc-html</title>
    <meta property="og:title" content=
    "docs-adv3lite-libref-object-multiloc-html">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header><div class="header-search">
    <form class="header-search-form" action="/search/" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">MultiLoc</span><span class="type">class</span></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9647">9647</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<div class="fdesc">

A MultiLoc is an object that can exist in several locations at once.
MultiLoc is a mix-in class that should be used in conjunction with Thing
or a Thing-derived class.

`class `**`MultiLoc`**` :   object`

</div>

<p><span id="_SuperClassTree_"></span></p>

<div class="mjhd">

<span class="hdln">Superclass Tree</span>   (in declaration order)

</div>

<p><strong><code class="language-plaintext highlighter-rouge">MultiLoc</code></strong><br />
`         object`<br />
<span id="_SubClassTree_"></span></p>

<div class="mjhd">

<span class="hdln">Subclass Tree</span>  

</div>

<p><strong><code class="language-plaintext highlighter-rouge">MultiLoc</code></strong><br />
<a href="../object/Floor.html"><code class="language-plaintext highlighter-rouge">Floor</code></a><br />
<a href="../object/RoomPart.html"><code class="language-plaintext highlighter-rouge">RoomPart</code></a><br />
<a href="../object/Ceiling.html"><code class="language-plaintext highlighter-rouge">Ceiling</code></a><br />
<a href="../object/DefaultWall.html"><code class="language-plaintext highlighter-rouge">DefaultWall</code></a><br />
<a href="../object/SymPassage.html"><code class="language-plaintext highlighter-rouge">SymPassage</code></a><br />
<a href="../object/SymDoor.html"><code class="language-plaintext highlighter-rouge">SymDoor</code></a><br />
<a href="../object/SymPathPassage.html"><code class="language-plaintext highlighter-rouge">SymPathPassage</code></a><br />
<a href="../object/SymStairway.html"><code class="language-plaintext highlighter-rouge">SymStairway</code></a><br />
<span id="_ObjectSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Global Objects</span>  

</div>

<p><a href="../object/bodyParts.html"><code class="language-plaintext highlighter-rouge">bodyParts</code></a>
<span id="_PropSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Properties</span>  

</div>

<p><a href="#exceptions"><code class="language-plaintext highlighter-rouge">exceptions</code></a><a href="#initialLocationClass"><code class="language-plaintext highlighter-rouge">initialLocationClass</code></a><a href="#initialLocationList"><code class="language-plaintext highlighter-rouge">initialLocationList</code></a><a href="#locationList"><code class="language-plaintext highlighter-rouge">locationList</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<div class="mjhd">

<span class="hdln">Summary of Methods</span>  

</div>

<p><a href="#addToLocations"><code class="language-plaintext highlighter-rouge">addToLocations</code></a><a href="#isDirectlyIn"><code class="language-plaintext highlighter-rouge">isDirectlyIn</code></a><a href="#isIn"><code class="language-plaintext highlighter-rouge">isIn</code></a><a href="#isInitiallyIn"><code class="language-plaintext highlighter-rouge">isInitiallyIn</code></a><a href="#location"><code class="language-plaintext highlighter-rouge">location</code></a><a href="#moveInto"><code class="language-plaintext highlighter-rouge">moveInto</code></a><a href="#moveIntoAdd"><code class="language-plaintext highlighter-rouge">moveIntoAdd</code></a><a href="#moveOutOf"><code class="language-plaintext highlighter-rouge">moveOutOf</code></a><a href="#preinitThing"><code class="language-plaintext highlighter-rouge">preinitThing</code></a></p>

<p><span id="_Properties_"></span></p>

<div class="mjhd">

<span class="hdln">Properties</span>  

</div>

<p><span id="exceptions"></span></p>

<p><code class="language-plaintext highlighter-rouge">exceptions</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9669">9669</a>]</p>

<div class="desc">

A list of locations this object is not to be present in. This is
intended mainly to allow certain rooms to be excepted from a specified
region.

</div>

<p><span id="initialLocationClass"></span></p>

<p><code class="language-plaintext highlighter-rouge">initialLocationClass</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9679">9679</a>]</p>

<div class="desc">

If the initialLocationClass property is defined, then this MultiLoc is
initially located in every instance of this class. Note that this would
be in addition to the locations defined in the locationList class and
would likewise be subject to anything defined in the exceptions
property.

</div>

<p><span id="initialLocationList"></span></p>

<p><code class="language-plaintext highlighter-rouge">initialLocationList</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9662">9662</a>]</p>

<div class="desc">

A list of the locations this object is to start out in. Locations may be
specified as Things, Rooms or Regions, or as some mix of all three.

</div>

<p><span id="locationList"></span></p>

<p><code class="language-plaintext highlighter-rouge">locationList</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9655">9655</a>]</p>

<div class="desc">

A list of the locations this object is currently present in. If this
property is defined at the start of the game and initialLocationList
isn't, then this list will be copied to initialLocationList, and so can
be specified by users in exactly the same way.

</div>

<p><span id="_Methods_"></span></p>

<div class="mjhd">

<span class="hdln">Methods</span>  

</div>

<p><span id="addToLocations"></span></p>

<p><code class="language-plaintext highlighter-rouge">addToLocations ( )</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9696">9696</a>]</p>

<div class="desc">

In Preinit, add this MultiLoc into the contents list of every item in
its locationList and every object of class initialLocationClass (if this
is not nil) and then remove it from the contents list of every item in
its exceptions list.

</div>

<p><span id="isDirectlyIn"></span></p>

<p><code class="language-plaintext highlighter-rouge">isDirectlyIn (loc)</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9804">9804</a>]</p>

<div class="desc">

A MultiLoc is directly in another object if it's listed in that other
object's contents list.

</div>

<p><span id="isIn"></span></p>

<p><code class="language-plaintext highlighter-rouge">isIn (loc)</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9821">9821</a>]</p>

<div class="desc">

A MultiLoc is in another object either if it's directly in that object
or if one of the items in its location list is in that object.

</div>

<p><span id="isInitiallyIn"></span></p>

<p><code class="language-plaintext highlighter-rouge">isInitiallyIn (obj)</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9688">9688</a>]</p>

<div class="desc">

Test an object for inclusion in our initial location list. By default,
we'll simply return true to include every object. We return true by
default so that an instance can merely specify a value for
initialLocationClass in order to place this object in every instance of
the given class.

</div>

<p><span id="location"></span></p>

<p><code class="language-plaintext highlighter-rouge">location ( )</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9838">9838</a>]</p>

<div class="desc">

For certain purposes, such as sense path calculations, a Multiloc needs
a notional location. We assume the enquiry is made from the perspective
of the current actor, or, failing that, the player char, so we return
the current actor's (or the player char's) current location if the
MultiLoc is present there, or the last place where the MultiLoc was seen
otherwise. The intention is to select the most currently significant
location where we're present.

</div>

<p><span id="moveInto"></span></p>

<p><code class="language-plaintext highlighter-rouge">moveInto (loc)</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9788">9788</a>]</p>

<div class="desc">

To move a MultiLoc into a single location, first remove it from every
location in its location list, then add it to the single location it's
now in.

</div>

<p><span id="moveIntoAdd"></span></p>

<p><code class="language-plaintext highlighter-rouge">moveIntoAdd (loc)</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9761">9761</a>]</p>

<div class="desc">

Move this MultiLoc into an additional location.

</div>

<p><span id="moveOutOf"></span></p>

<p><code class="language-plaintext highlighter-rouge">moveOutOf (loc)</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9774">9774</a>]</p>

<div class="desc">

Remove this MultiLoc from loc.

</div>

<p><span id="preinitThing"></span></p>

<p><code class="language-plaintext highlighter-rouge">preinitThing ( )</code></p>

<p><a href="../file/thing.t.html">thing.t</a>[<a href="../source/thing.t.html#9891">9891</a>]</p>

<div class="desc">

If we're a MultiLoc we don't want to carry out any of the normal
preinitialization related to our location.

</div>

<div class="ftr">

Adv3Lite Library Reference Manual  
Generated on 15/03/2023 from adv3Lite version 1.6.1

</div>

</main>
<footer>
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>