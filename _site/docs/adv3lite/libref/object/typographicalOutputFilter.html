<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title></title>
    <meta property="og:title" content=
    "">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header id="header"><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">typographicalOutputFilter</span><span class="type">object</span></p>

<p><a href="../file/output.t.html">output.t</a>[<a href="../source/output.t.html#1866">1866</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>Typographical effects output filter. This filter looks for certain
sequences in the text and converts them to typographical equivalents.
Authors could simply write the HTML for the typographical markups in the
first place, but it’s easier to write the typewriter-like sequences and
let this filter convert to HTML.</p>

<p>We perform the following conversions:</p>

<p>’—’ -&gt; &amp;zwnbsp;—<br />
‘–’ -&gt; &amp;zwnbsp;–<br />
sentence-ending punctuation -&gt; same +  </p>

<p>Since this routine is called so frequently, we hard-code the replacement
strings, rather than using properties, for slightly faster performance.
Since this routine is so simple, games that want to customize the
replacement style should simply replace this entire routine with a new
routine that applies the customizations.</p>

<p>Note that we define this filter in the English-specific part of the
library, because it seems almost certain that each language will want to
customize it for local conventions.</p>

<p><strong><code class="language-plaintext highlighter-rouge">typographicalOutputFilter</code></strong><code class="language-plaintext highlighter-rouge"> :   </code><a href="../object/OutputFilter.html"><code class="language-plaintext highlighter-rouge">OutputFilter</code></a></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">typographicalOutputFilter</code></strong><br />
<a href="../object/OutputFilter.html"><code class="language-plaintext highlighter-rouge">OutputFilter</code></a><br />
`                 object`<br />
<span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p><a href="#abbreviations"><code class="language-plaintext highlighter-rouge">abbreviations</code></a> <a href="#abbrevPat"><code class="language-plaintext highlighter-rouge">abbrevPat</code></a> <a href="#eosPattern"><code class="language-plaintext highlighter-rouge">eosPattern</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p><a href="#filterText"><code class="language-plaintext highlighter-rouge">filterText</code></a></p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="abbreviations"></span></p>

<p><code class="language-plaintext highlighter-rouge">abbreviations</code></p>

<p><a href="../file/output.t.html">output.t</a>[<a href="../source/output.t.html#1948">1948</a>]</p>

<p>Common abbreviations. These are excluded from being treated as sentence
endings when they appear with a trailing period.</p>

<p>Note that abbrevPat must be rebuilt manually if you change this on the
fly - abbrevPat is static, so it picks up the initial value of this
property at start-up, and doesn’t re-evaluate it while the game is
running.</p>

<p><span id="abbrevPat"></span></p>

<p><code class="language-plaintext highlighter-rouge">abbrevPat</code></p>

<p><a href="../file/output.t.html">output.t</a>[<a href="../source/output.t.html#1936">1936</a>]</p>

<p>pattern for abbreviations that were mistaken for sentence endings</p>

<p><span id="eosPattern"></span></p>

<p><code class="language-plaintext highlighter-rouge">eosPattern</code></p>

<p><a href="../file/output.t.html">output.t</a>[<a href="../source/output.t.html#1923">1923</a>]</p>

<p>The end-of-sentence pattern. This looks a bit complicated, but all we’re
looking for is a period, exclamation point, or question mark, optionally
followed by any number of closing group marks (right parentheses or
square brackets, closing HTML tags, or double or single quotes in either
straight or curly styles), all followed by an ordinary space.</p>

<p>If a lower-case letter follows the space, though, we won’t consider it a
sentence ending. This applies most commonly after quoted passages ending
with what would normally be sentence-ending punctuation: “‘Who are you?’
he asked.” In these cases, the enclosing sentence isn’t ending, so we
don’t want the extra space. We can tell the enclosing sentence isn’t
ending because a non-capital letter follows.</p>

<p>Note that we specifically look only for ordinary spaces. Any
sentence-ending punctuation that’s followed by a quoted space or any
typographical space overrides this substitution.</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="filterText"></span></p>

<p><code class="language-plaintext highlighter-rouge">filterText (ostr, val)</code><span class="rem">OVERRIDDEN</span></p>

<p><a href="../file/output.t.html">output.t</a>[<a href="../source/output.t.html#1867">1867</a>]</p>

<p><em>no description available</em>
Adv3Lite Library Reference Manual<br />
Generated on 15/03/2023 from adv3Lite version 1.6.1</p>


</main>
<footer id="footer">
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>

<script>
    if(window.location !== window.top.location) {
        let header = document.getElementById('header');
        let footer = document.getElementById('footer');
        header.remove();
        footer.remove();
    }
</script>