<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:type" content="website">
    <link rel="icon" href="/assets/images/tads-favicon.png" type="image/png">
    <link rel="stylesheet" type="text/css"
                           href="/assets/css/styles.css">
    <title></title>
    <meta property="og:title" content=
    "">
    <meta name="description" content="">
    <meta property="og:description" content="">
</head>
<header id="header"><div class="header-search">
    <form class="header-search-form" action="/search" method="get">
      <input type="text" id="search-box" name="query">
      <input type="submit" value="search">
    </form>
  </div>  </header>
<body>
<main id="content">
<p><span class="title">TravelConnector</span><span class="type">class</span></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1085">1085</a>],
<a href="../file/objtime.t.html">objtime.t</a>[<a href="../source/objtime.t.html#348">348</a>]</p>

<p><a href="#_SuperClassTree_">Superclass<br />
Tree</a></p>

<p><a href="#_SubClassTree_">Subclass<br />
Tree</a></p>

<p><a href="#_ObjectSummary_">Global<br />
Objects</a></p>

<p><a href="#_PropSummary_">Property<br />
Summary</a></p>

<p><a href="#_MethodSummary_">Method<br />
Summary</a></p>

<p><a href="#_Properties_">Property<br />
Details</a></p>

<p><a href="#_Methods_">Method<br />
Details</a></p>

<p>A TravelConnector is an object that can be attached to the directional
exit property of a room to facilitate (or optionally block) travel in
the associated direction and carry out any side-effects of that travel.
A TravelConnector may be used as an abstract object to implement travel,
or a subclass of TravelConnector such as Door, Passage, StairwayUp or
StairwayDown may be used to represent a physical object via which travel
occurs. The Room class also inherits from TravelConnector.</p>

<p>Whether the base TravelConnector class or one of its subclasses is used,
travel is carried out via a TravelConnector by calling its travelVia()
method.</p>

<p><em>Modified in
<a href="../file/objtime.t.html">objtime.t</a>[<a href="../source/objtime.t.html#348">348</a>]:</em><br />
Modifications to TravelConnector for the OBJTIME EXTENSION. The purpose
of these modifications is to allow different TravelConnectors to take
different amounts of time to traverse.</p>

<p><code class="language-plaintext highlighter-rouge">class </code><strong><code class="language-plaintext highlighter-rouge">TravelConnector</code></strong><code class="language-plaintext highlighter-rouge"> :   object</code></p>

<p><span id="_SuperClassTree_"></span></p>

<p><span class="hdln">Superclass Tree</span>   (in declaration order)</p>

<p><strong><code class="language-plaintext highlighter-rouge">TravelConnector</code></strong><br />
`         object`<br />
<span id="_SubClassTree_"></span></p>

<p><span class="hdln">Subclass Tree</span>  </p>

<p><strong><code class="language-plaintext highlighter-rouge">TravelConnector</code></strong><br />
<a href="../object/Door.html"><code class="language-plaintext highlighter-rouge">Door</code></a><br />
<a href="../object/SecretDoor.html"><code class="language-plaintext highlighter-rouge">SecretDoor</code></a><br />
<a href="../object/Passage.html"><code class="language-plaintext highlighter-rouge">Passage</code></a><br />
<a href="../object/PathPassage.html"><code class="language-plaintext highlighter-rouge">PathPassage</code></a><br />
<a href="../object/Room.html"><code class="language-plaintext highlighter-rouge">Room</code></a><br />
<a href="../object/OutdoorRoom.html"><code class="language-plaintext highlighter-rouge">OutdoorRoom</code></a><br />
<a href="../object/StairwayDown.html"><code class="language-plaintext highlighter-rouge">StairwayDown</code></a><br />
<a href="../object/StairwayUp.html"><code class="language-plaintext highlighter-rouge">StairwayUp</code></a><br />
<a href="../object/SymConnector.html"><code class="language-plaintext highlighter-rouge">SymConnector</code></a><br />
<a href="../object/SymPassage.html"><code class="language-plaintext highlighter-rouge">SymPassage</code></a><br />
<a href="../object/SymDoor.html"><code class="language-plaintext highlighter-rouge">SymDoor</code></a><br />
<a href="../object/SymPathPassage.html"><code class="language-plaintext highlighter-rouge">SymPathPassage</code></a><br />
<a href="../object/SymStairway.html"><code class="language-plaintext highlighter-rouge">SymStairway</code></a><br />
<a href="../object/UnlistedProxyConnector.html"><code class="language-plaintext highlighter-rouge">UnlistedProxyConnector</code></a><br />
<span id="_ObjectSummary_"></span></p>

<p><span class="hdln">Global Objects</span>  </p>

<p><a href="../object/noExit.html"><code class="language-plaintext highlighter-rouge">noExit</code></a>
<span id="_PropSummary_"></span></p>

<p><span class="hdln">Summary of Properties</span>  </p>

<p><a href="#destination"><code class="language-plaintext highlighter-rouge">destination</code></a> <a href="#isConnectorApparent"><code class="language-plaintext highlighter-rouge">isConnectorApparent</code></a> <a href="#isConnectorListed"><code class="language-plaintext highlighter-rouge">isConnectorListed</code></a> <a href="#isOpen"><code class="language-plaintext highlighter-rouge">isOpen</code></a> <a href="#PushTravelVia"><code class="language-plaintext highlighter-rouge">PushTravelVia</code></a> <a href="#suppressTravelDescForPushTravel"><code class="language-plaintext highlighter-rouge">suppressTravelDescForPushTravel</code></a> <a href="#transmitsLight"><code class="language-plaintext highlighter-rouge">transmitsLight</code></a> <a href="#travelBarriers"><code class="language-plaintext highlighter-rouge">travelBarriers</code></a> <a href="#traversalTime"><code class="language-plaintext highlighter-rouge">traversalTime</code></a> <a href="#traversed"><code class="language-plaintext highlighter-rouge">traversed</code></a> <a href="#traversedBy"><code class="language-plaintext highlighter-rouge">traversedBy</code></a></p>

<p><span id="_MethodSummary_"></span></p>

<p><span class="hdln">Summary of Methods</span>  </p>

<p><a href="#afterTravelNotifications"><code class="language-plaintext highlighter-rouge">afterTravelNotifications</code></a> <a href="#beforeTravelNotifications"><code class="language-plaintext highlighter-rouge">beforeTravelNotifications</code></a> <a href="#canTravelerPass"><code class="language-plaintext highlighter-rouge">canTravelerPass</code></a> <a href="#checkPushTravel"><code class="language-plaintext highlighter-rouge">checkPushTravel</code></a> <a href="#checkTravelBarriers"><code class="language-plaintext highlighter-rouge">checkTravelBarriers</code></a> <a href="#dobjFor(GoThrough)"><code class="language-plaintext highlighter-rouge">dobjFor(GoThrough)</code></a> <a href="#dobjFor(TravelVia)"><code class="language-plaintext highlighter-rouge">dobjFor(TravelVia)</code></a> <a href="#execTravel"><code class="language-plaintext highlighter-rouge">execTravel</code></a> <a href="#explainTravelBarrier"><code class="language-plaintext highlighter-rouge">explainTravelBarrier</code></a> <a href="#getDepartingDirection"><code class="language-plaintext highlighter-rouge">getDepartingDirection</code></a> <a href="#getDestination"><code class="language-plaintext highlighter-rouge">getDestination</code></a> <a href="#getTraveler"><code class="language-plaintext highlighter-rouge">getTraveler</code></a> <a href="#hasBeenTraversedBy"><code class="language-plaintext highlighter-rouge">hasBeenTraversedBy</code></a> <a href="#iobjFor(PushTravelThrough)"><code class="language-plaintext highlighter-rouge">iobjFor(PushTravelThrough)</code></a> <a href="#isConnectorVisible"><code class="language-plaintext highlighter-rouge">isConnectorVisible</code></a> <a href="#isDestinationKnown"><code class="language-plaintext highlighter-rouge">isDestinationKnown</code></a> <a href="#noteTraversal"><code class="language-plaintext highlighter-rouge">noteTraversal</code></a> <a href="#sayActorFollowing"><code class="language-plaintext highlighter-rouge">sayActorFollowing</code></a> <a href="#sayDeparting"><code class="language-plaintext highlighter-rouge">sayDeparting</code></a> <a href="#sayNoDestination"><code class="language-plaintext highlighter-rouge">sayNoDestination</code></a> <a href="#travelDesc"><code class="language-plaintext highlighter-rouge">travelDesc</code></a> <a href="#travelVia"><code class="language-plaintext highlighter-rouge">travelVia</code></a> <a href="#traversalMsg"><code class="language-plaintext highlighter-rouge">traversalMsg</code></a> <a href="#traversalTimeFrom"><code class="language-plaintext highlighter-rouge">traversalTimeFrom</code></a></p>

<p><span id="_Properties_"></span></p>

<p><span class="hdln">Properties</span>  </p>

<p><span id="destination"></span></p>

<p><code class="language-plaintext highlighter-rouge">destination</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1124">1124</a>]</p>

<p>The room to which this TravelConnector leads when it is traversed</p>

<p><span id="isConnectorApparent"></span></p>

<p><code class="language-plaintext highlighter-rouge">isConnectorApparent</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1093">1093</a>]</p>

<p>Is this connector apparent? That is, would it be apparent to an observer
under normal lighting conditions, as opposed to being concealed? By
default we’ll suppose a TravelConnector is apparent unless it’s
explicitly hidden.</p>

<p><span id="isConnectorListed"></span></p>

<p><code class="language-plaintext highlighter-rouge">isConnectorListed</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1099">1099</a>]</p>

<p>Should this exit be shown in the exit lister? By default we’ll assumed
it should be it it’s visible.</p>

<p><span id="isOpen"></span></p>

<p><code class="language-plaintext highlighter-rouge">isOpen</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1149">1149</a>]</p>

<p>A travel connector is usually open.</p>

<p><span id="PushTravelVia"></span></p>

<p><code class="language-plaintext highlighter-rouge">PushTravelVia</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1515">1515</a>]</p>

<p>The appropriate PushTravelAction for pushing something something through
a TravelConnector.</p>

<p><span id="suppressTravelDescForPushTravel"></span></p>

<p><code class="language-plaintext highlighter-rouge">suppressTravelDescForPushTravel</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1523">1523</a>]</p>

<p>If we display a message for pushing something via us, we probably don’t
also want the travelDesc describing the actor’s travel. Game code can
override if both messages are wanted when push-travelling.</p>

<p><span id="transmitsLight"></span></p>

<p><code class="language-plaintext highlighter-rouge">transmitsLight</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1105">1105</a>]</p>

<p>Does light pass through this TravelConnector from its destination (so
that it’s visible in the dark even its location is dark.).</p>

<p><span id="travelBarriers"></span></p>

<p><code class="language-plaintext highlighter-rouge">travelBarriers</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1355">1355</a>]</p>

<p>an additional TravelBarrier or a list of TravelBarriers to check on this
TravelConnector to see if travel is allowed.</p>

<p><span id="traversalTime"></span></p>

<p><code class="language-plaintext highlighter-rouge">traversalTime</code></p>

<p><a href="../file/objtime.t.html">objtime.t</a>[<a href="../source/objtime.t.html#353">353</a>]</p>

<p>The number of seconds it takes to traverse this connector (in addition
to any that come from the Travel action). [OBJTIME EXTENSION ONLY]</p>

<p><span id="traversed"></span></p>

<p><code class="language-plaintext highlighter-rouge">traversed</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1282">1282</a>]</p>

<p>Have we been traversed by the player character? Return true if and only
if we have.</p>

<p><span id="traversedBy"></span></p>

<p><code class="language-plaintext highlighter-rouge">traversedBy</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1269">1269</a>]</p>

<p>A list of the actors, vehicles and pushTraverers that have traversed
this TravelConnector. This is maintained by the noteTraversal(), so game
code should normally treat this property as read-only.</p>

<p><span id="_Methods_"></span></p>

<p><span class="hdln">Methods</span>  </p>

<p><span id="afterTravelNotifications"></span></p>

<p><code class="language-plaintext highlighter-rouge">afterTravelNotifications (actor)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1304">1304</a>]</p>

<p>Carry out the after travel notifications for this actor</p>

<p><span id="beforeTravelNotifications"></span></p>

<p><code class="language-plaintext highlighter-rouge">beforeTravelNotifications (actor)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1285">1285</a>]</p>

<p>Carry out the before travel notifications for this actor.</p>

<p><span id="canTravelerPass"></span></p>

<p><code class="language-plaintext highlighter-rouge">canTravelerPass (actor)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1328">1328</a>]</p>

<p>Method that should return true is actor is allowed to pass through this
TravelConnector and nil otherwise. We allow travel by default but this
could be overridden to block travel under certain conditions.</p>

<p><span id="checkPushTravel"></span></p>

<p><code class="language-plaintext highlighter-rouge">checkPushTravel ( )</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1499">1499</a>]</p>

<p>Check the travel barriers on the indirect object of the action</p>

<p><span id="checkTravelBarriers"></span></p>

<p><code class="language-plaintext highlighter-rouge">checkTravelBarriers (traveler)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1363">1363</a>]</p>

<p>Check all the travel barriers associated with this connector to
determine whether the traveler is allowed to pass through this travel
connector.</p>

<p><span id="dobjFor(GoThrough)"></span></p>

<p><code class="language-plaintext highlighter-rouge">dobjFor(GoThrough)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1480">1480</a>]</p>

<p>For now, we just call the travelVia() method on the TravelConnector.
Subsequentlly we might add appropriate code for the other action phases.</p>

<p><span id="dobjFor(TravelVia)"></span></p>

<p><code class="language-plaintext highlighter-rouge">dobjFor(TravelVia)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1465">1465</a>]</p>

<p>The TravelVia action is supplied so game code can execute a TravelVia
action on a TravelConnector; there is no TRAVEL VIA command that can be
issued directly by a player, but a player command may be translated into
this action.</p>

<p><span id="execTravel"></span></p>

<p><code class="language-plaintext highlighter-rouge">execTravel (actor, traveler, conn)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1199">1199</a>]</p>

<p>Execute the travel for this actor via this connector</p>

<p><span id="explainTravelBarrier"></span></p>

<p><code class="language-plaintext highlighter-rouge">explainTravelBarrier (actor)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1335">1335</a>]</p>

<p>If canTravelerPass returns nil explainTravelBarrier should display a
message explaining why travel has been prohibited.</p>

<p><span id="getDepartingDirection"></span></p>

<p><code class="language-plaintext highlighter-rouge">getDepartingDirection (traveler)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1450">1450</a>]</p>

<p>Get the direction traveler needs to go in to traverse this connector
from traveler’s current location.</p>

<p><span id="getDestination"></span></p>

<p><code class="language-plaintext highlighter-rouge">getDestination (origin)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1130">1130</a>]</p>

<p>The room to which this TravelConnector leads when it is traversed from
origin.</p>

<p><span id="getTraveler"></span></p>

<p><code class="language-plaintext highlighter-rouge">getTraveler (actor)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1181">1181</a>]</p>

<p>Get the traveler associated with this actor. Normally the traveler will
be the same as the actor, but if the actor is in a vehicle, then the
traveler will be the vehicle.</p>

<p><span id="hasBeenTraversedBy"></span></p>

<p><code class="language-plaintext highlighter-rouge">hasBeenTraversedBy (traveler)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1275">1275</a>]</p>

<p>Test whether this TravelConnector has been traversed by traveler (which
may be an actor, a vehicle, or something pushed through the
TravelConnector by an actor).</p>

<p><span id="iobjFor(PushTravelThrough)"></span></p>

<p><code class="language-plaintext highlighter-rouge">iobjFor(PushTravelThrough)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1486">1486</a>]</p>

<p><em>no description available</em></p>

<p><span id="isConnectorVisible"></span></p>

<p><code class="language-plaintext highlighter-rouge">isConnectorVisible ( )</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1112">1112</a>]</p>

<p>A TravelConnector (or at least, the exit it represents) is visible if
it’s apparent (i.e. not concealed in some way) and if the lighting
conditions are adequate, or if it’s visible in the dark.</p>

<p><span id="isDestinationKnown"></span></p>

<p><code class="language-plaintext highlighter-rouge">isDestinationKnown ( )</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1141">1141</a>]</p>

<p>Does the player char know where this travel connector leads? By default
s/he doesn’t until s/he’s visited its destination, but this could be
overridden for an area the PC is supposed to know well when the game
starts, such as their own house.</p>

<p><span id="noteTraversal"></span></p>

<p><code class="language-plaintext highlighter-rouge">noteTraversal (actor)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1246">1246</a>]</p>

<p>If the actor doing the traveling is the player character, display the
travelDesc. Note that although this might normally be a simple
description of the travel, the travelDesc method could also be used to
carry out any other side-effects of the travel via this connector.</p>

<p><span id="sayActorFollowing"></span></p>

<p><code class="language-plaintext highlighter-rouge">sayActorFollowing (follower, leader)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1417">1417</a>]</p>

<p>Display a message to say that follower is following leader in the
direction of this connector.</p>

<p><span id="sayDeparting"></span></p>

<p><code class="language-plaintext highlighter-rouge">sayDeparting (traveler)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1396">1396</a>]</p>

<p>Display a message to say that an actor is departing via this connector.
On the base class the default behaviour is to describe the departure via
a compass direction. The actor in question would normally be an NPC
visible to the player character.</p>

<p><span id="sayNoDestination"></span></p>

<p><code class="language-plaintext highlighter-rouge">sayNoDestination ( )</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1234">1234</a>]</p>

<p>Display a message saying that this travel connector doesn’t actually
lead anywhere; this may be needed if our destination is nil and our
noteTraversal() method doesn’t display anything.</p>

<p><span id="travelDesc"></span></p>

<p><code class="language-plaintext highlighter-rouge">travelDesc ( )</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1345">1345</a>]</p>

<p>Carry out any side effects of travel if the traveler is the player
character. Typically we might just display some text describing the
travel here, but this method could be used for any side-effects of the
travel. If the TravelConnector is mixed in with an EventList class then
the default behaviour is to call the doScript() method here to drive the
EventList.</p>

<p><span id="travelVia"></span></p>

<p><code class="language-plaintext highlighter-rouge">travelVia (actor)</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1155">1155</a>]</p>

<p>Carrier out travel via this connector, first checking that travel
through this connector is permitted for this actor.</p>

<p><span id="traversalMsg"></span></p>

<p><code class="language-plaintext highlighter-rouge">traversalMsg ( )</code></p>

<p><a href="../file/travel.t.html">travel.t</a>[<a href="../source/travel.t.html#1438">1438</a>]</p>

<p>Create a phrase describing the direction of travel through this
connector (e.g. ‘to the north’)</p>

<p><span id="traversalTimeFrom"></span></p>

<p><code class="language-plaintext highlighter-rouge">traversalTimeFrom (origin)</code></p>

<p><a href="../file/objtime.t.html">objtime.t</a>[<a href="../source/objtime.t.html#360">360</a>]</p>

<p>If we want to vary the time to go through this TravelConnector depending
on where the traveler is starting from (only really relevant for rooms),
we can override this method instead. [OBJTIME EXTENSION ONLY]</p>

<p>Adv3Lite Library Reference Manual<br />
Generated on 15/03/2023 from adv3Lite version 1.6.1</p>


</main>
<footer id="footer">
    <p>This is an unofficial informational website to aggregate TADS 3 information and does not claim authorship over, or any rights to, TADS 3 itself. All resources copyright their credited owners. TADS itself is <a href="https://www.tads.org/copyright.htm">Copyright ©2001-2013 Michael J. Roberts</a>.</p>
    <p><a href="/">Back to Homepage</a></p>
</footer>
</body>
</html>

<script>
    if(window.location !== window.top.location) {
        let header = document.getElementById('header');
        let footer = document.getElementById('footer');
        header.remove();
        footer.remove();
    }
</script>